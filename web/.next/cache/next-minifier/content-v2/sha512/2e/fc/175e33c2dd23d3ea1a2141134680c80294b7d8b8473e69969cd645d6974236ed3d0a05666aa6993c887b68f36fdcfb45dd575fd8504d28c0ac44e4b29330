{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{\"D/OE\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var o=n(\"Womt\"),a=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new o.mb,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:o.G.ROTATE,MIDDLE:o.G.DOLLY,RIGHT:o.G.PAN},this.touches={ONE:o.db.ROTATE,TWO:o.db.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update(),s=c.NONE},this.update=function(){var t=new o.mb,i=(new o.T).setFromUnitVectors(e.up,new o.mb(0,1,0)),r=i.clone().inverse(),d=new o.mb,f=new o.T;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(i),l.setFromVector3(t),n.autoRotate&&s===c.NONE&&w(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(l.theta+=m.theta*n.dampingFactor,l.phi+=m.phi*n.dampingFactor):(l.theta+=m.theta,l.phi+=m.phi),l.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=p,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(l),t.applyQuaternion(r),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(m.theta*=1-n.dampingFactor,m.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(m.set(0,0,0),h.set(0,0,0)),p=1,!!(b||d.distanceToSquared(n.object.position)>u||8*(1-f.dot(n.object.quaternion))>u)&&(n.dispatchEvent(a),d.copy(n.object.position),f.copy(n.object.quaternion),b=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener(\"contextmenu\",B,!1),n.domElement.removeEventListener(\"mousedown\",z,!1),n.domElement.removeEventListener(\"wheel\",G,!1),n.domElement.removeEventListener(\"touchstart\",U,!1),n.domElement.removeEventListener(\"touchend\",V,!1),n.domElement.removeEventListener(\"touchmove\",q,!1),document.removeEventListener(\"mousemove\",I,!1),document.removeEventListener(\"mouseup\",Z,!1),n.domElement.removeEventListener(\"keydown\",F,!1)};var n=this,a={type:\"change\"},i={type:\"start\"},r={type:\"end\"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=c.NONE,u=1e-6,l=new o.cb,m=new o.cb,p=1,h=new o.mb,b=!1,d=new o.lb,f=new o.lb,E=new o.lb,g=new o.lb,O=new o.lb,y=new o.lb,v=new o.lb,T=new o.lb,P=new o.lb;function N(){return Math.pow(.95,n.zoomSpeed)}function w(e){m.theta-=e}function A(e){m.phi-=e}var L=function(){var e=new o.mb;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),j=function(){var e=new o.mb;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),R=function(){var e=new o.mb;return function(t,o){var a=n.domElement;if(n.object.isPerspectiveCamera){var i=n.object.position;e.copy(i).sub(n.target);var r=e.length();r*=Math.tan(n.object.fov/2*Math.PI/180),L(2*t*r/a.clientHeight,n.object.matrix),j(2*o*r/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(L(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),j(o*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"),n.enablePan=!1)}}();function k(e){n.object.isPerspectiveCamera?p/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),b=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),n.enableZoom=!1)}function Y(e){n.object.isPerspectiveCamera?p*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),b=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),n.enableZoom=!1)}function S(e){d.set(e.clientX,e.clientY)}function D(e){g.set(e.clientX,e.clientY)}function _(e){if(1==e.touches.length)d.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);d.set(t,n)}}function x(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,n)}}function M(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);v.set(0,o)}function C(e){if(1==e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,o)}E.subVectors(f,d).multiplyScalar(n.rotateSpeed);var a=n.domElement;w(2*Math.PI*E.x/a.clientHeight),A(2*Math.PI*E.y/a.clientHeight),d.copy(f)}function H(e){if(1==e.touches.length)O.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);O.set(t,o)}y.subVectors(O,g).multiplyScalar(n.panSpeed),R(y.x,y.y),g.copy(O)}function X(e){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+o*o);T.set(0,a),P.set(0,Math.pow(T.y/v.y,n.zoomSpeed)),k(P.y),v.copy(T)}function z(e){if(!1!==n.enabled){switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:switch(n.mouseButtons.LEFT){case o.G.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;D(e),s=c.PAN}else{if(!1===n.enableRotate)return;S(e),s=c.ROTATE}break;case o.G.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;S(e),s=c.ROTATE}else{if(!1===n.enablePan)return;D(e),s=c.PAN}break;default:s=c.NONE}break;case 1:switch(n.mouseButtons.MIDDLE){case o.G.DOLLY:if(!1===n.enableZoom)return;!function(e){v.set(e.clientX,e.clientY)}(e),s=c.DOLLY;break;default:s=c.NONE}break;case 2:switch(n.mouseButtons.RIGHT){case o.G.ROTATE:if(!1===n.enableRotate)return;S(e),s=c.ROTATE;break;case o.G.PAN:if(!1===n.enablePan)return;D(e),s=c.PAN;break;default:s=c.NONE}}s!==c.NONE&&(document.addEventListener(\"mousemove\",I,!1),document.addEventListener(\"mouseup\",Z,!1),n.dispatchEvent(i))}}function I(e){if(!1!==n.enabled)switch(e.preventDefault(),s){case c.ROTATE:if(!1===n.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),E.subVectors(f,d).multiplyScalar(n.rotateSpeed);var t=n.domElement;w(2*Math.PI*E.x/t.clientHeight),A(2*Math.PI*E.y/t.clientHeight),d.copy(f),n.update()}(e);break;case c.DOLLY:if(!1===n.enableZoom)return;!function(e){T.set(e.clientX,e.clientY),P.subVectors(T,v),P.y>0?k(N()):P.y<0&&Y(N()),v.copy(T),n.update()}(e);break;case c.PAN:if(!1===n.enablePan)return;!function(e){O.set(e.clientX,e.clientY),y.subVectors(O,g).multiplyScalar(n.panSpeed),R(y.x,y.y),g.copy(O),n.update()}(e)}}function Z(e){!1!==n.enabled&&(document.removeEventListener(\"mousemove\",I,!1),document.removeEventListener(\"mouseup\",Z,!1),n.dispatchEvent(r),s=c.NONE)}function G(e){!1===n.enabled||!1===n.enableZoom||s!==c.NONE&&s!==c.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(i),function(e){e.deltaY<0?Y(N()):e.deltaY>0&&k(N()),n.update()}(e),n.dispatchEvent(r))}function F(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:R(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:R(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:R(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:R(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function U(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case o.db.ROTATE:if(!1===n.enableRotate)return;_(e),s=c.TOUCH_ROTATE;break;case o.db.PAN:if(!1===n.enablePan)return;x(e),s=c.TOUCH_PAN;break;default:s=c.NONE}break;case 2:switch(n.touches.TWO){case o.db.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&M(e),n.enablePan&&x(e)}(e),s=c.TOUCH_DOLLY_PAN;break;case o.db.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&M(e),n.enableRotate&&_(e)}(e),s=c.TOUCH_DOLLY_ROTATE;break;default:s=c.NONE}break;default:s=c.NONE}s!==c.NONE&&n.dispatchEvent(i)}}function q(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case c.TOUCH_ROTATE:if(!1===n.enableRotate)return;C(e),n.update();break;case c.TOUCH_PAN:if(!1===n.enablePan)return;H(e),n.update();break;case c.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&X(e),n.enablePan&&H(e)}(e),n.update();break;case c.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&X(e),n.enableRotate&&C(e)}(e),n.update();break;default:s=c.NONE}}function V(e){!1!==n.enabled&&(n.dispatchEvent(r),s=c.NONE)}function B(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener(\"contextmenu\",B,!1),n.domElement.addEventListener(\"mousedown\",z,!1),n.domElement.addEventListener(\"wheel\",G,!1),n.domElement.addEventListener(\"touchstart\",U,!1),n.domElement.addEventListener(\"touchend\",V,!1),n.domElement.addEventListener(\"touchmove\",q,!1),n.domElement.addEventListener(\"keydown\",F,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};a.prototype=Object.create(o.q.prototype),a.prototype.constructor=a;var i=function(e,t){a.call(this,e,t),this.mouseButtons.LEFT=o.G.PAN,this.mouseButtons.RIGHT=o.G.ROTATE,this.touches.ONE=o.db.PAN,this.touches.TWO=o.db.DOLLY_ROTATE};(i.prototype=Object.create(o.q.prototype)).constructor=i},JX7q:function(e,t,n){\"use strict\";function o(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}n.d(t,\"a\",(function(){return o}))},Ji7U:function(e,t,n){\"use strict\";function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}n.d(t,\"a\",(function(){return a}))},foSv:function(e,t,n){\"use strict\";function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,\"a\",(function(){return o}))},md7G:function(e,t,n){\"use strict\";function o(e){return(o=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}n.d(t,\"a\",(function(){return i}));var a=n(\"JX7q\");function i(e,t){return!t||\"object\"!==o(t)&&\"function\"!==typeof t?Object(a.a)(e):t}},vuIU:function(e,t,n){\"use strict\";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,\"a\",(function(){return a}))}}]);","map":{"version":3,"sources":["static/chunks/46ac36fc0251a943ea3cea53fa815ac267c2c537.4ba324f23c0d25790ca8.js"],"names":["window","push","D/OE","module","__webpack_exports__","__webpack_require__","d","OrbitControls","three__WEBPACK_IMPORTED_MODULE_0__","object","domElement","undefined","console","warn","document","error","this","enabled","target","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TWO","DOLLY_PAN","target0","clone","position0","position","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","max","min","makeSafe","radius","scale","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","type","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyIn","dollyScale","dollyOut","handleMouseDownRotate","event","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","x","y","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","subVectors","handleTouchMovePan","handleTouchMoveDolly","preventDefault","focus","button","ctrlKey","metaKey","shiftKey","handleMouseDownDolly","addEventListener","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","needsUpdate","keyCode","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","tabIndex","prototype","Object","create","constructor","MapControls","call","JX7q","_assertThisInitialized","self","ReferenceError","Ji7U","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","value","writable","configurable","foSv","_getPrototypeOf","getPrototypeOf","md7G","_typeof","obj","Symbol","iterator","_possibleConstructorReturn","assertThisInitialized","vuIU","_defineProperties","props","i","descriptor","enumerable","defineProperty","key","_createClass","Constructor","protoProps","staticProps"],"mappings":"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"},"name":"static/chunks/46ac36fc0251a943ea3cea53fa815ac267c2c537.4ba324f23c0d25790ca8.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[15],{\n\n/***/ \"D/OE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OrbitControls; });\n/* unused harmony export MapControls */\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"Womt\");\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n * @author ScieCode / http://github.com/sciecode\n */\n // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function OrbitControls(object, domElement) {\n  if (domElement === undefined) console.warn('THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.');\n  if (domElement === document) console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n  this.object = object;\n  this.domElement = domElement; // Set to false to disable this control\n\n  this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n  this.target = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector3 */ \"mb\"](); // How far you can dolly in and out ( PerspectiveCamera only )\n\n  this.minDistance = 0;\n  this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n  this.minZoom = 0;\n  this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n\n  this.minPolarAngle = 0; // radians\n\n  this.maxPolarAngle = Math.PI; // radians\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\n  this.minAzimuthAngle = -Infinity; // radians\n\n  this.maxAzimuthAngle = Infinity; // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n\n  this.enableDamping = false;\n  this.dampingFactor = 0.05; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0; // Set to false to disable panning\n\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = false; // if true, pan in screen-space\n\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n  // Set to false to disable use of the keys\n\n  this.enableKeys = true; // The four arrow keys\n\n  this.keys = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    BOTTOM: 40\n  }; // Mouse buttons\n\n  this.mouseButtons = {\n    LEFT: three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].ROTATE,\n    MIDDLE: three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].DOLLY,\n    RIGHT: three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].PAN\n  }; // Touch fingers\n\n  this.touches = {\n    ONE: three__WEBPACK_IMPORTED_MODULE_0__[/* TOUCH */ \"db\"].ROTATE,\n    TWO: three__WEBPACK_IMPORTED_MODULE_0__[/* TOUCH */ \"db\"].DOLLY_PAN\n  }; // for reset\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom; //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n    return spherical.theta;\n  };\n\n  this.saveState = function () {\n    scope.target0.copy(scope.target);\n    scope.position0.copy(scope.object.position);\n    scope.zoom0 = scope.object.zoom;\n  };\n\n  this.reset = function () {\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n    scope.update();\n    state = STATE.NONE;\n  }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n  this.update = function () {\n    var offset = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector3 */ \"mb\"](); // so camera.up is the orbit axis\n\n    var quat = new three__WEBPACK_IMPORTED_MODULE_0__[/* Quaternion */ \"T\"]().setFromUnitVectors(object.up, new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector3 */ \"mb\"](0, 1, 0));\n    var quatInverse = quat.clone().inverse();\n    var lastPosition = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector3 */ \"mb\"]();\n    var lastQuaternion = new three__WEBPACK_IMPORTED_MODULE_0__[/* Quaternion */ \"T\"]();\n    return function update() {\n      var position = scope.object.position;\n      offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n      offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      if (scope.enableDamping) {\n        spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n        spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n      } else {\n        spherical.theta += sphericalDelta.theta;\n        spherical.phi += sphericalDelta.phi;\n      } // restrict theta to be between desired limits\n\n\n      spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta)); // restrict phi to be between desired limits\n\n      spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n      spherical.makeSafe();\n      spherical.radius *= scale; // restrict radius to be between desired limits\n\n      spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n      if (scope.enableDamping === true) {\n        scope.target.addScaledVector(panOffset, scope.dampingFactor);\n      } else {\n        scope.target.add(panOffset);\n      }\n\n      offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n      offset.applyQuaternion(quatInverse);\n      position.copy(scope.target).add(offset);\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n        panOffset.multiplyScalar(1 - scope.dampingFactor);\n      } else {\n        sphericalDelta.set(0, 0, 0);\n        panOffset.set(0, 0, 0);\n      }\n\n      scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = false;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n    scope.domElement.removeEventListener('mousedown', onMouseDown, false);\n    scope.domElement.removeEventListener('wheel', onMouseWheel, false);\n    scope.domElement.removeEventListener('touchstart', onTouchStart, false);\n    scope.domElement.removeEventListener('touchend', onTouchEnd, false);\n    scope.domElement.removeEventListener('touchmove', onTouchMove, false);\n    document.removeEventListener('mousemove', onMouseMove, false);\n    document.removeEventListener('mouseup', onMouseUp, false);\n    scope.domElement.removeEventListener('keydown', onKeyDown, false); //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  }; //\n  // internals\n  //\n\n\n  var scope = this;\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  };\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_PAN: 4,\n    TOUCH_DOLLY_PAN: 5,\n    TOUCH_DOLLY_ROTATE: 6\n  };\n  var state = STATE.NONE;\n  var EPS = 0.000001; // current position in spherical coordinates\n\n  var spherical = new three__WEBPACK_IMPORTED_MODULE_0__[/* Spherical */ \"cb\"]();\n  var sphericalDelta = new three__WEBPACK_IMPORTED_MODULE_0__[/* Spherical */ \"cb\"]();\n  var scale = 1;\n  var panOffset = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector3 */ \"mb\"]();\n  var zoomChanged = false;\n  var rotateStart = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n  var rotateEnd = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n  var rotateDelta = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n  var panStart = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n  var panEnd = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n  var panDelta = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n  var dollyStart = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n  var dollyEnd = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n  var dollyDelta = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ \"lb\"]();\n\n  function getAutoRotationAngle() {\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = function () {\n    var v = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector3 */ \"mb\"]();\n    return function panLeft(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n      v.multiplyScalar(-distance);\n      panOffset.add(v);\n    };\n  }();\n\n  var panUp = function () {\n    var v = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector3 */ \"mb\"]();\n    return function panUp(distance, objectMatrix) {\n      if (scope.screenSpacePanning === true) {\n        v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.crossVectors(scope.object.up, v);\n      }\n\n      v.multiplyScalar(distance);\n      panOffset.add(v);\n    };\n  }(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n  var pan = function () {\n    var offset = new three__WEBPACK_IMPORTED_MODULE_0__[/* Vector3 */ \"mb\"]();\n    return function pan(deltaX, deltaY) {\n      var element = scope.domElement;\n\n      if (scope.object.isPerspectiveCamera) {\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length(); // half of the fov is center to top of screen\n\n        targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n        panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n        panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n      } else if (scope.object.isOrthographicCamera) {\n        // orthographic\n        panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n        panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n        scope.enablePan = false;\n      }\n    };\n  }();\n\n  function dollyIn(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale /= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = false;\n    }\n  }\n\n  function dollyOut(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale *= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = false;\n    }\n  } //\n  // event callbacks - update the object state\n  //\n\n\n  function handleMouseDownRotate(event) {\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n    rotateEnd.set(event.clientX, event.clientY);\n    rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n    var element = scope.domElement;\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n    rotateStart.copy(rotateEnd);\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n    dollyEnd.set(event.clientX, event.clientY);\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyIn(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyOut(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n    panEnd.set(event.clientX, event.clientY);\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n    pan(panDelta.x, panDelta.y);\n    panStart.copy(panEnd);\n    scope.update();\n  }\n\n  function handleMouseUp()\n  /*event*/\n  {// no-op\n  }\n\n  function handleMouseWheel(event) {\n    if (event.deltaY < 0) {\n      dollyOut(getZoomScale());\n    } else if (event.deltaY > 0) {\n      dollyIn(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n    var needsUpdate = false;\n\n    switch (event.keyCode) {\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n    }\n\n    if (needsUpdate) {\n      // prevent the browser from scrolling on cursor keys\n      event.preventDefault();\n      scope.update();\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n    if (event.touches.length == 1) {\n      rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      rotateStart.set(x, y);\n    }\n  }\n\n  function handleTouchStartPan(event) {\n    if (event.touches.length == 1) {\n      panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      panStart.set(x, y);\n    }\n  }\n\n  function handleTouchStartDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    dollyStart.set(0, distance);\n  }\n\n  function handleTouchStartDollyPan(event) {\n    if (scope.enableZoom) handleTouchStartDolly(event);\n    if (scope.enablePan) handleTouchStartPan(event);\n  }\n\n  function handleTouchStartDollyRotate(event) {\n    if (scope.enableZoom) handleTouchStartDolly(event);\n    if (scope.enableRotate) handleTouchStartRotate(event);\n  }\n\n  function handleTouchMoveRotate(event) {\n    if (event.touches.length == 1) {\n      rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      rotateEnd.set(x, y);\n    }\n\n    rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n    var element = scope.domElement;\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n    rotateStart.copy(rotateEnd);\n  }\n\n  function handleTouchMovePan(event) {\n    if (event.touches.length == 1) {\n      panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      panEnd.set(x, y);\n    }\n\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n    pan(panDelta.x, panDelta.y);\n    panStart.copy(panEnd);\n  }\n\n  function handleTouchMoveDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    dollyEnd.set(0, distance);\n    dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n    dollyIn(dollyDelta.y);\n    dollyStart.copy(dollyEnd);\n  }\n\n  function handleTouchMoveDollyPan(event) {\n    if (scope.enableZoom) handleTouchMoveDolly(event);\n    if (scope.enablePan) handleTouchMovePan(event);\n  }\n\n  function handleTouchMoveDollyRotate(event) {\n    if (scope.enableZoom) handleTouchMoveDolly(event);\n    if (scope.enableRotate) handleTouchMoveRotate(event);\n  }\n\n  function handleTouchEnd()\n  /*event*/\n  {// no-op\n  } //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n\n  function onMouseDown(event) {\n    if (scope.enabled === false) return; // Prevent the browser from scrolling.\n\n    event.preventDefault(); // Manually set the focus since calling preventDefault above\n    // prevents the browser from setting it automatically.\n\n    scope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n    switch (event.button) {\n      case 0:\n        switch (scope.mouseButtons.LEFT) {\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].ROTATE:\n            if (event.ctrlKey || event.metaKey || event.shiftKey) {\n              if (scope.enablePan === false) return;\n              handleMouseDownPan(event);\n              state = STATE.PAN;\n            } else {\n              if (scope.enableRotate === false) return;\n              handleMouseDownRotate(event);\n              state = STATE.ROTATE;\n            }\n\n            break;\n\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].PAN:\n            if (event.ctrlKey || event.metaKey || event.shiftKey) {\n              if (scope.enableRotate === false) return;\n              handleMouseDownRotate(event);\n              state = STATE.ROTATE;\n            } else {\n              if (scope.enablePan === false) return;\n              handleMouseDownPan(event);\n              state = STATE.PAN;\n            }\n\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      case 1:\n        switch (scope.mouseButtons.MIDDLE) {\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].DOLLY:\n            if (scope.enableZoom === false) return;\n            handleMouseDownDolly(event);\n            state = STATE.DOLLY;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      case 2:\n        switch (scope.mouseButtons.RIGHT) {\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].ROTATE:\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n            break;\n\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].PAN:\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n    }\n\n    if (state !== STATE.NONE) {\n      document.addEventListener('mousemove', onMouseMove, false);\n      document.addEventListener('mouseup', onMouseUp, false);\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n\n    switch (state) {\n      case STATE.ROTATE:\n        if (scope.enableRotate === false) return;\n        handleMouseMoveRotate(event);\n        break;\n\n      case STATE.DOLLY:\n        if (scope.enableZoom === false) return;\n        handleMouseMoveDolly(event);\n        break;\n\n      case STATE.PAN:\n        if (scope.enablePan === false) return;\n        handleMouseMovePan(event);\n        break;\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n    handleMouseUp(event);\n    document.removeEventListener('mousemove', onMouseMove, false);\n    document.removeEventListener('mouseup', onMouseUp, false);\n    scope.dispatchEvent(endEvent);\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n    event.preventDefault();\n    event.stopPropagation();\n    scope.dispatchEvent(startEvent);\n    handleMouseWheel(event);\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n    if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n\n    switch (event.touches.length) {\n      case 1:\n        switch (scope.touches.ONE) {\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* TOUCH */ \"db\"].ROTATE:\n            if (scope.enableRotate === false) return;\n            handleTouchStartRotate(event);\n            state = STATE.TOUCH_ROTATE;\n            break;\n\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* TOUCH */ \"db\"].PAN:\n            if (scope.enablePan === false) return;\n            handleTouchStartPan(event);\n            state = STATE.TOUCH_PAN;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      case 2:\n        switch (scope.touches.TWO) {\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* TOUCH */ \"db\"].DOLLY_PAN:\n            if (scope.enableZoom === false && scope.enablePan === false) return;\n            handleTouchStartDollyPan(event);\n            state = STATE.TOUCH_DOLLY_PAN;\n            break;\n\n          case three__WEBPACK_IMPORTED_MODULE_0__[/* TOUCH */ \"db\"].DOLLY_ROTATE:\n            if (scope.enableZoom === false && scope.enableRotate === false) return;\n            handleTouchStartDollyRotate(event);\n            state = STATE.TOUCH_DOLLY_ROTATE;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (state) {\n      case STATE.TOUCH_ROTATE:\n        if (scope.enableRotate === false) return;\n        handleTouchMoveRotate(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_PAN:\n        if (scope.enablePan === false) return;\n        handleTouchMovePan(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_DOLLY_PAN:\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n        handleTouchMoveDollyPan(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_DOLLY_ROTATE:\n        if (scope.enableZoom === false && scope.enableRotate === false) return;\n        handleTouchMoveDollyRotate(event);\n        scope.update();\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n  }\n\n  function onTouchEnd(event) {\n    if (scope.enabled === false) return;\n    handleTouchEnd(event);\n    scope.dispatchEvent(endEvent);\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n  } //\n\n\n  scope.domElement.addEventListener('contextmenu', onContextMenu, false);\n  scope.domElement.addEventListener('mousedown', onMouseDown, false);\n  scope.domElement.addEventListener('wheel', onMouseWheel, false);\n  scope.domElement.addEventListener('touchstart', onTouchStart, false);\n  scope.domElement.addEventListener('touchend', onTouchEnd, false);\n  scope.domElement.addEventListener('touchmove', onTouchMove, false);\n  scope.domElement.addEventListener('keydown', onKeyDown, false); // make sure element can receive keys.\n\n  if (scope.domElement.tabIndex === -1) {\n    scope.domElement.tabIndex = 0;\n  } // force an update at start\n\n\n  this.update();\n};\n\nOrbitControls.prototype = Object.create(three__WEBPACK_IMPORTED_MODULE_0__[/* EventDispatcher */ \"q\"].prototype);\nOrbitControls.prototype.constructor = OrbitControls; // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function MapControls(object, domElement) {\n  OrbitControls.call(this, object, domElement);\n  this.mouseButtons.LEFT = three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].PAN;\n  this.mouseButtons.RIGHT = three__WEBPACK_IMPORTED_MODULE_0__[/* MOUSE */ \"G\"].ROTATE;\n  this.touches.ONE = three__WEBPACK_IMPORTED_MODULE_0__[/* TOUCH */ \"db\"].PAN;\n  this.touches.TWO = three__WEBPACK_IMPORTED_MODULE_0__[/* TOUCH */ \"db\"].DOLLY_ROTATE;\n};\n\nMapControls.prototype = Object.create(three__WEBPACK_IMPORTED_MODULE_0__[/* EventDispatcher */ \"q\"].prototype);\nMapControls.prototype.constructor = MapControls;\n\n\n/***/ }),\n\n/***/ \"JX7q\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _assertThisInitialized; });\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/***/ }),\n\n/***/ \"Ji7U\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ _inherits; });\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\n/***/ }),\n\n/***/ \"foSv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _getPrototypeOf; });\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\n/***/ }),\n\n/***/ \"md7G\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ _possibleConstructorReturn; });\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(\"JX7q\");\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\n\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return Object(assertThisInitialized[\"a\" /* default */])(self);\n}\n\n/***/ }),\n\n/***/ \"vuIU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _createClass; });\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/pflaxalt/Repositories/_pfl/web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/pflaxalt/Repositories/_pfl/web/sketches/three/jsm/controls/OrbitControls.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/inherits.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/typeof.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/createClass.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+F;AAC/F;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B,sBAAsB;;AAEtB,oBAAoB,sDAAO,GAAG;;AAE9B;AACA,8BAA8B;;AAE9B;AACA,0BAA0B;AAC1B;;AAEA,yBAAyB;;AAEzB,+BAA+B;AAC/B;AACA;;AAEA,mCAAmC;;AAEnC,kCAAkC;AAClC;AACA;;AAEA;AACA,4BAA4B,qDAAqD;AACjF;;AAEA;AACA,uBAAuB;;AAEvB;AACA,yBAAyB;;AAEzB;AACA;AACA,kCAAkC;;AAElC,yBAAyB;AACzB;AACA;;AAEA;AACA,6BAA6B;AAC7B;;AAEA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA,UAAU,mDAAK;AACf,YAAY,mDAAK;AACjB,WAAW,mDAAK;AAChB,IAAI;;AAEJ;AACA,SAAS,oDAAK;AACd,SAAS,oDAAK;AACd,IAAI;;AAEJ;AACA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA,qBAAqB,sDAAO,GAAG;;AAE/B,mBAAmB,wDAAU,qCAAqC,sDAAO;AACzE;AACA,2BAA2B,sDAAO;AAClC,6BAA6B,wDAAU;AACvC;AACA;AACA,8CAA8C;;AAE9C,mCAAmC;;AAEnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;;;AAGP,0GAA0G;;AAE1G;AACA;AACA,gCAAgC;;AAEhC,oGAAoG;;AAEpG;AACA;AACA,OAAO;AACP;AACA;;AAEA,yCAAyC;;AAEzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,yBAAyB,kBAAkB,GAAG;AACpH,IAAI;AACJ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB,sBAAsB,wDAAS;AAC/B,2BAA2B,wDAAS;AACpC;AACA,sBAAsB,sDAAO;AAC7B;AACA,wBAAwB,sDAAO;AAC/B,sBAAsB,sDAAO;AAC7B,wBAAwB,sDAAO;AAC/B,qBAAqB,sDAAO;AAC5B,mBAAmB,sDAAO;AAC1B,qBAAqB,sDAAO;AAC5B,uBAAuB,sDAAO;AAC9B,qBAAqB,sDAAO;AAC5B,uBAAuB,sDAAO;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,sDAAO;AACvB;AACA,6CAA6C;;AAE7C;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,sDAAO;AACvB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG,GAAG,oCAAoC;;;AAG1C;AACA,qBAAqB,sDAAO;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA,6CAA6C;;AAE7C,2EAA2E;;AAE3E;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mEAAmE;;AAEnE;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,mEAAmE;;AAEnE;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;;;AAGA;AACA,wCAAwC;;AAExC,2BAA2B;AAC3B;;AAEA;;AAEA;AACA;AACA;AACA,eAAe,mDAAK;AACpB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA,eAAe,mDAAK;AACpB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAe,mDAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAe,mDAAK;AACpB;AACA;AACA;AACA;;AAEA,eAAe,mDAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,oDAAK;AACpB;AACA;AACA;AACA;;AAEA,eAAe,oDAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAe,oDAAK;AACpB;AACA;AACA;AACA;;AAEA,eAAe,oDAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;;AAEjE;AACA;AACA,GAAG;;;AAGH;AACA;;AAEA,wCAAwC,6DAAe;AACvD,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,mDAAK;AAChC,4BAA4B,mDAAK;AACjC,qBAAqB,oDAAK;AAC1B,qBAAqB,oDAAK;AAC1B;;AAEA,sCAAsC,6DAAe;AACrD;;;;;;;;;AC3xBA;AAAe;AACf;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;;ACNe;AACf;AACA;AACA;AACA;;AAEA;AACA,C;;ACPuE;AACxD;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,eAAc;AAChC,C;;;;;;;;ACdA;AAAe;AACf;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;ACLe;AACf;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,C;;;;;ACdwD;AAC6B;AACtE;AACf,eAAe,OAAO;AACtB;AACA;;AAEA,SAAS,gDAAqB;AAC9B,C;;;;;;;;ACRA;AAAA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA,C","file":"x","sourcesContent":["/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n * @author ScieCode / http://github.com/sciecode\n */\nimport { EventDispatcher, MOUSE, Quaternion, Spherical, TOUCH, Vector2, Vector3 } from \"three\"; // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function OrbitControls(object, domElement) {\n  if (domElement === undefined) console.warn('THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.');\n  if (domElement === document) console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n  this.object = object;\n  this.domElement = domElement; // Set to false to disable this control\n\n  this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n  this.target = new Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\n\n  this.minDistance = 0;\n  this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n  this.minZoom = 0;\n  this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n\n  this.minPolarAngle = 0; // radians\n\n  this.maxPolarAngle = Math.PI; // radians\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\n  this.minAzimuthAngle = -Infinity; // radians\n\n  this.maxAzimuthAngle = Infinity; // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n\n  this.enableDamping = false;\n  this.dampingFactor = 0.05; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0; // Set to false to disable panning\n\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = false; // if true, pan in screen-space\n\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n  // Set to false to disable use of the keys\n\n  this.enableKeys = true; // The four arrow keys\n\n  this.keys = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    BOTTOM: 40\n  }; // Mouse buttons\n\n  this.mouseButtons = {\n    LEFT: MOUSE.ROTATE,\n    MIDDLE: MOUSE.DOLLY,\n    RIGHT: MOUSE.PAN\n  }; // Touch fingers\n\n  this.touches = {\n    ONE: TOUCH.ROTATE,\n    TWO: TOUCH.DOLLY_PAN\n  }; // for reset\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom; //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n    return spherical.theta;\n  };\n\n  this.saveState = function () {\n    scope.target0.copy(scope.target);\n    scope.position0.copy(scope.object.position);\n    scope.zoom0 = scope.object.zoom;\n  };\n\n  this.reset = function () {\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n    scope.update();\n    state = STATE.NONE;\n  }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n  this.update = function () {\n    var offset = new Vector3(); // so camera.up is the orbit axis\n\n    var quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n    var quatInverse = quat.clone().inverse();\n    var lastPosition = new Vector3();\n    var lastQuaternion = new Quaternion();\n    return function update() {\n      var position = scope.object.position;\n      offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n      offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      if (scope.enableDamping) {\n        spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n        spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n      } else {\n        spherical.theta += sphericalDelta.theta;\n        spherical.phi += sphericalDelta.phi;\n      } // restrict theta to be between desired limits\n\n\n      spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta)); // restrict phi to be between desired limits\n\n      spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n      spherical.makeSafe();\n      spherical.radius *= scale; // restrict radius to be between desired limits\n\n      spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n      if (scope.enableDamping === true) {\n        scope.target.addScaledVector(panOffset, scope.dampingFactor);\n      } else {\n        scope.target.add(panOffset);\n      }\n\n      offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n      offset.applyQuaternion(quatInverse);\n      position.copy(scope.target).add(offset);\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n        panOffset.multiplyScalar(1 - scope.dampingFactor);\n      } else {\n        sphericalDelta.set(0, 0, 0);\n        panOffset.set(0, 0, 0);\n      }\n\n      scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = false;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n    scope.domElement.removeEventListener('mousedown', onMouseDown, false);\n    scope.domElement.removeEventListener('wheel', onMouseWheel, false);\n    scope.domElement.removeEventListener('touchstart', onTouchStart, false);\n    scope.domElement.removeEventListener('touchend', onTouchEnd, false);\n    scope.domElement.removeEventListener('touchmove', onTouchMove, false);\n    document.removeEventListener('mousemove', onMouseMove, false);\n    document.removeEventListener('mouseup', onMouseUp, false);\n    scope.domElement.removeEventListener('keydown', onKeyDown, false); //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  }; //\n  // internals\n  //\n\n\n  var scope = this;\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  };\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_PAN: 4,\n    TOUCH_DOLLY_PAN: 5,\n    TOUCH_DOLLY_ROTATE: 6\n  };\n  var state = STATE.NONE;\n  var EPS = 0.000001; // current position in spherical coordinates\n\n  var spherical = new Spherical();\n  var sphericalDelta = new Spherical();\n  var scale = 1;\n  var panOffset = new Vector3();\n  var zoomChanged = false;\n  var rotateStart = new Vector2();\n  var rotateEnd = new Vector2();\n  var rotateDelta = new Vector2();\n  var panStart = new Vector2();\n  var panEnd = new Vector2();\n  var panDelta = new Vector2();\n  var dollyStart = new Vector2();\n  var dollyEnd = new Vector2();\n  var dollyDelta = new Vector2();\n\n  function getAutoRotationAngle() {\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = function () {\n    var v = new Vector3();\n    return function panLeft(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n      v.multiplyScalar(-distance);\n      panOffset.add(v);\n    };\n  }();\n\n  var panUp = function () {\n    var v = new Vector3();\n    return function panUp(distance, objectMatrix) {\n      if (scope.screenSpacePanning === true) {\n        v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.crossVectors(scope.object.up, v);\n      }\n\n      v.multiplyScalar(distance);\n      panOffset.add(v);\n    };\n  }(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n  var pan = function () {\n    var offset = new Vector3();\n    return function pan(deltaX, deltaY) {\n      var element = scope.domElement;\n\n      if (scope.object.isPerspectiveCamera) {\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length(); // half of the fov is center to top of screen\n\n        targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n        panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n        panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n      } else if (scope.object.isOrthographicCamera) {\n        // orthographic\n        panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n        panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n        scope.enablePan = false;\n      }\n    };\n  }();\n\n  function dollyIn(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale /= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = false;\n    }\n  }\n\n  function dollyOut(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale *= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = false;\n    }\n  } //\n  // event callbacks - update the object state\n  //\n\n\n  function handleMouseDownRotate(event) {\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n    rotateEnd.set(event.clientX, event.clientY);\n    rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n    var element = scope.domElement;\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n    rotateStart.copy(rotateEnd);\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n    dollyEnd.set(event.clientX, event.clientY);\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyIn(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyOut(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n    panEnd.set(event.clientX, event.clientY);\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n    pan(panDelta.x, panDelta.y);\n    panStart.copy(panEnd);\n    scope.update();\n  }\n\n  function handleMouseUp()\n  /*event*/\n  {// no-op\n  }\n\n  function handleMouseWheel(event) {\n    if (event.deltaY < 0) {\n      dollyOut(getZoomScale());\n    } else if (event.deltaY > 0) {\n      dollyIn(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n    var needsUpdate = false;\n\n    switch (event.keyCode) {\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n    }\n\n    if (needsUpdate) {\n      // prevent the browser from scrolling on cursor keys\n      event.preventDefault();\n      scope.update();\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n    if (event.touches.length == 1) {\n      rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      rotateStart.set(x, y);\n    }\n  }\n\n  function handleTouchStartPan(event) {\n    if (event.touches.length == 1) {\n      panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      panStart.set(x, y);\n    }\n  }\n\n  function handleTouchStartDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    dollyStart.set(0, distance);\n  }\n\n  function handleTouchStartDollyPan(event) {\n    if (scope.enableZoom) handleTouchStartDolly(event);\n    if (scope.enablePan) handleTouchStartPan(event);\n  }\n\n  function handleTouchStartDollyRotate(event) {\n    if (scope.enableZoom) handleTouchStartDolly(event);\n    if (scope.enableRotate) handleTouchStartRotate(event);\n  }\n\n  function handleTouchMoveRotate(event) {\n    if (event.touches.length == 1) {\n      rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      rotateEnd.set(x, y);\n    }\n\n    rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n    var element = scope.domElement;\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n    rotateStart.copy(rotateEnd);\n  }\n\n  function handleTouchMovePan(event) {\n    if (event.touches.length == 1) {\n      panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      panEnd.set(x, y);\n    }\n\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n    pan(panDelta.x, panDelta.y);\n    panStart.copy(panEnd);\n  }\n\n  function handleTouchMoveDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    dollyEnd.set(0, distance);\n    dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n    dollyIn(dollyDelta.y);\n    dollyStart.copy(dollyEnd);\n  }\n\n  function handleTouchMoveDollyPan(event) {\n    if (scope.enableZoom) handleTouchMoveDolly(event);\n    if (scope.enablePan) handleTouchMovePan(event);\n  }\n\n  function handleTouchMoveDollyRotate(event) {\n    if (scope.enableZoom) handleTouchMoveDolly(event);\n    if (scope.enableRotate) handleTouchMoveRotate(event);\n  }\n\n  function handleTouchEnd()\n  /*event*/\n  {// no-op\n  } //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n\n  function onMouseDown(event) {\n    if (scope.enabled === false) return; // Prevent the browser from scrolling.\n\n    event.preventDefault(); // Manually set the focus since calling preventDefault above\n    // prevents the browser from setting it automatically.\n\n    scope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n    switch (event.button) {\n      case 0:\n        switch (scope.mouseButtons.LEFT) {\n          case MOUSE.ROTATE:\n            if (event.ctrlKey || event.metaKey || event.shiftKey) {\n              if (scope.enablePan === false) return;\n              handleMouseDownPan(event);\n              state = STATE.PAN;\n            } else {\n              if (scope.enableRotate === false) return;\n              handleMouseDownRotate(event);\n              state = STATE.ROTATE;\n            }\n\n            break;\n\n          case MOUSE.PAN:\n            if (event.ctrlKey || event.metaKey || event.shiftKey) {\n              if (scope.enableRotate === false) return;\n              handleMouseDownRotate(event);\n              state = STATE.ROTATE;\n            } else {\n              if (scope.enablePan === false) return;\n              handleMouseDownPan(event);\n              state = STATE.PAN;\n            }\n\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      case 1:\n        switch (scope.mouseButtons.MIDDLE) {\n          case MOUSE.DOLLY:\n            if (scope.enableZoom === false) return;\n            handleMouseDownDolly(event);\n            state = STATE.DOLLY;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      case 2:\n        switch (scope.mouseButtons.RIGHT) {\n          case MOUSE.ROTATE:\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n            break;\n\n          case MOUSE.PAN:\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n    }\n\n    if (state !== STATE.NONE) {\n      document.addEventListener('mousemove', onMouseMove, false);\n      document.addEventListener('mouseup', onMouseUp, false);\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n\n    switch (state) {\n      case STATE.ROTATE:\n        if (scope.enableRotate === false) return;\n        handleMouseMoveRotate(event);\n        break;\n\n      case STATE.DOLLY:\n        if (scope.enableZoom === false) return;\n        handleMouseMoveDolly(event);\n        break;\n\n      case STATE.PAN:\n        if (scope.enablePan === false) return;\n        handleMouseMovePan(event);\n        break;\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n    handleMouseUp(event);\n    document.removeEventListener('mousemove', onMouseMove, false);\n    document.removeEventListener('mouseup', onMouseUp, false);\n    scope.dispatchEvent(endEvent);\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n    event.preventDefault();\n    event.stopPropagation();\n    scope.dispatchEvent(startEvent);\n    handleMouseWheel(event);\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n    if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n\n    switch (event.touches.length) {\n      case 1:\n        switch (scope.touches.ONE) {\n          case TOUCH.ROTATE:\n            if (scope.enableRotate === false) return;\n            handleTouchStartRotate(event);\n            state = STATE.TOUCH_ROTATE;\n            break;\n\n          case TOUCH.PAN:\n            if (scope.enablePan === false) return;\n            handleTouchStartPan(event);\n            state = STATE.TOUCH_PAN;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      case 2:\n        switch (scope.touches.TWO) {\n          case TOUCH.DOLLY_PAN:\n            if (scope.enableZoom === false && scope.enablePan === false) return;\n            handleTouchStartDollyPan(event);\n            state = STATE.TOUCH_DOLLY_PAN;\n            break;\n\n          case TOUCH.DOLLY_ROTATE:\n            if (scope.enableZoom === false && scope.enableRotate === false) return;\n            handleTouchStartDollyRotate(event);\n            state = STATE.TOUCH_DOLLY_ROTATE;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (state) {\n      case STATE.TOUCH_ROTATE:\n        if (scope.enableRotate === false) return;\n        handleTouchMoveRotate(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_PAN:\n        if (scope.enablePan === false) return;\n        handleTouchMovePan(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_DOLLY_PAN:\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n        handleTouchMoveDollyPan(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_DOLLY_ROTATE:\n        if (scope.enableZoom === false && scope.enableRotate === false) return;\n        handleTouchMoveDollyRotate(event);\n        scope.update();\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n  }\n\n  function onTouchEnd(event) {\n    if (scope.enabled === false) return;\n    handleTouchEnd(event);\n    scope.dispatchEvent(endEvent);\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n  } //\n\n\n  scope.domElement.addEventListener('contextmenu', onContextMenu, false);\n  scope.domElement.addEventListener('mousedown', onMouseDown, false);\n  scope.domElement.addEventListener('wheel', onMouseWheel, false);\n  scope.domElement.addEventListener('touchstart', onTouchStart, false);\n  scope.domElement.addEventListener('touchend', onTouchEnd, false);\n  scope.domElement.addEventListener('touchmove', onTouchMove, false);\n  scope.domElement.addEventListener('keydown', onKeyDown, false); // make sure element can receive keys.\n\n  if (scope.domElement.tabIndex === -1) {\n    scope.domElement.tabIndex = 0;\n  } // force an update at start\n\n\n  this.update();\n};\n\nOrbitControls.prototype = Object.create(EventDispatcher.prototype);\nOrbitControls.prototype.constructor = OrbitControls; // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function MapControls(object, domElement) {\n  OrbitControls.call(this, object, domElement);\n  this.mouseButtons.LEFT = MOUSE.PAN;\n  this.mouseButtons.RIGHT = MOUSE.ROTATE;\n  this.touches.ONE = TOUCH.PAN;\n  this.touches.TWO = TOUCH.DOLLY_ROTATE;\n};\n\nMapControls.prototype = Object.create(EventDispatcher.prototype);\nMapControls.prototype.constructor = MapControls;\nexport { OrbitControls, MapControls };","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}"]}}