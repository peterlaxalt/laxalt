{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{\"1VNi\":function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/projects/three-with-canvas-texture\",function(){return e(\"R1sj\")}])},R1sj:function(t,n,e){\"use strict\";e.r(n),e.d(n,\"ThreeCanvasPage\",(function(){return C}));var a=e(\"h4VS\"),i=e(\"1OyB\"),o=e(\"vuIU\"),r=e(\"JX7q\"),c=e(\"Ji7U\"),s=e(\"md7G\"),h=e(\"foSv\"),d=e(\"rePB\"),u=e(\"nKUr\"),l=e(\"q1tI\"),v=e.n(l),f=e(\"vOnD\"),m=e(\"YMx+\"),w=e(\"AeVD\"),j=e(\"gssh\"),b=e(\"/YLk\"),p=e(\"a6RD\"),g=e.n(p),O=e(\"Q9BO\");function x(){var t=Object(a.a)([\"\\n      /* body, html {\\n        overflow: hidden;\\n      } */\\n\\n      .three-container {\\n        width: 100vw;\\n        height: 100vh;\\n        overflow: hidden;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        #p5_loading {\\n          display: none !important;\\n        }\\n      }\\n\\n      #drawing-canvas {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tbackground-color: #000000;\\n\\t\\t\\t\\ttop: 0px;\\n\\t\\t\\t\\tright: 0px;\\n\\t\\t\\t\\tz-index: 3000;\\n\\t\\t\\t\\tcursor: crosshair;\\n\\t\\t\\t\\ttouch-action: none;\\n\\n        display: none;\\n\\t\\t\\t}\\n\\n      canvas {\\n        animation: \",\" 1s ease 1;\\n        animation-fill-mode: forwards;\\n        animation-iteration-count: 1;\\n      }\\n\\n      .dharma-container {\\n        opacity: 1;\\n      }\\n    \"]);return x=function(){return t},t}function y(t){var n=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,a=Object(h.a)(t);if(n){var i=Object(h.a)(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return Object(s.a)(this,e)}}var T=g()((function(){return Promise.all([e.e(10),e.e(11)]).then(e.t.bind(null,\"58Bg\",7))}),{loading:function(){return Object(u.jsx)(u.Fragment,{})},ssr:!1,loadableGenerated:{webpack:function(){return[\"58Bg\"]},modules:[\"react-p5-wrapper\"]}}),k=function(t){Object(c.a)(a,t);var n=y(a);function a(t){var o;return Object(i.a)(this,a),o=n.call(this,t),Object(d.a)(Object(r.a)(o),\"threeRootElement\",void 0),Object(d.a)(Object(r.a)(o),\"renderP5\",(function(t){var n=e(\"49Hi\")(\"./\".concat(t)).default(o.state.windowWidth,o.state.windowHeight,1,o.props.colorThemeContext);return Object(u.jsx)(T,{sketch:n})})),o.state={domLoaded:!1,windowWidth:0,windowHeight:0,canvasElement:void 0,canvasTheme:void 0},o.checkForCanvas=o.checkForCanvas.bind(Object(r.a)(o)),o.initializeThree=o.initializeThree.bind(Object(r.a)(o)),o}return Object(o.a)(a,[{key:\"componentDidMount\",value:function(){this.setState({windowWidth:window.innerWidth-80,windowHeight:window.innerHeight-80,domLoaded:!0,canvasElement:void 0,canvasTheme:this.props.colorThemeContext}),this.checkForCanvas()}},{key:\"checkForCanvas\",value:function(){var t=document.getElementById(\"defaultCanvas0\");t?(O.c&&console.log(\"\\ud83e\\udd19 Canvas found:\",t),this.setState({canvasElement:t}),this.initializeThree()):(O.c&&console.log(\"\\ud83d\\ude2d Canvas not found, trying again in 100ms:\",t),setTimeout(this.checkForCanvas,100))}},{key:\"initializeThree\",value:function(){Object(j.a)(this.threeRootElement.el,this.state.canvasElement,this.props.colorThemeContext),O.c&&console.log(\"\\u2705 Three initialization enqueued with canvas:\",this.state.canvasElement)}},{key:\"render\",value:function(){var t=this,n=Object(f.a)(x(),m.a);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(n,{}),Object(u.jsx)(w.a,{}),Object(u.jsx)(\"canvas\",{id:\"drawing-canvas\",height:\"128\",width:\"128\"}),this.state.domLoaded&&this.state.windowHeight>10&&this.state.windowWidth>10&&Object(u.jsx)(\"div\",{className:\"dharma-container\",children:this.renderP5(\"dharma-as-canvas\")}),this.state.canvasElement&&Object(u.jsx)(\"div\",{ref:function(n){return t.threeRootElement={el:n,theme:t.state.canvasTheme}},className:\"three-container\"})]})}}]),a}(l.Component),C=function(){var t=v.a.useContext(b.b);return Object(u.jsx)(k,{colorThemeContext:t})};n.default=C}},[[\"1VNi\",0,1,6,8,2,3,4,5,7,9,12,14,16]]]);","extractedComments":[]}