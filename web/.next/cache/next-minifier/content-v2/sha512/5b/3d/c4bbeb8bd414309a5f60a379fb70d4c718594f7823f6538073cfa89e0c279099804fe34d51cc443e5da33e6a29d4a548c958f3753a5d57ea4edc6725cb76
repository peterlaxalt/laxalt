{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[44],{\"1OyB\":function(t,e,n){\"use strict\";function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}n.d(e,\"a\",(function(){return r}))},OQCC:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/projects/water-distort\",function(){return n(\"rQvH\")}])},Qetd:function(t,e,n){\"use strict\";var r=Object.assign.bind(Object);t.exports=r,t.exports.default=t.exports},Tf9D:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));var r=n(\"Womt\"),i=n(\"D/OE\"),o=function(t){var e,n,o,a,c,u,d=0,s=0,f=(Math.PI,.5),w=.5;!function(){n=new r.qb,u=t,n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),u.appendChild(n.domElement),o=new r.ab,(a=new r.R(40,window.innerWidth/window.innerHeight,1,1e3)).position.set(0,0,25),o.background=new r.j(16777215),o.add(a),(c=new i.a(a,n.domElement)).movementSpeed=1e4,c.domElement=n.domElement,c.rollSpeed=Math.PI/24,c.autoForward=!0,c.dragToLook=!0,c.enableZoom=!1;var l=new r.gb(10,3,200,200);(new r.fb).load(\"/projects/three/19of19-tile-white.png\",(function(t){t.wrapS=t.wrapT=r.Z,t.anisotropy=1;var n=new r.K({map:t});e=new r.J(l,n),o.add(e),function(){var t=e.material.map;!0===t.matrixAutoUpdate?(t.offset.set(d,s),t.center.set(f,w)):t.matrix.identity().translate(-f,-w).translate(f,w).translate(d,s);m()}(),h()})),window.addEventListener(\"resize\",v,!1)}();var l=0,p=0;function h(){requestAnimationFrame(h);var t=e.material.map;1,l+=.01,p+=.01,t.rotation+=1e-4,t.repeat={x:l,y:p},e.rotation.z+=8e-4,e.rotation.x+=8e-4,e.rotation.y+=8e-4,n.render(o,a)}function m(){n.render(o,a)}function v(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),m()}}},rQvH:function(t,e,n){\"use strict\";n.r(e);var r=n(\"nKUr\"),i=n(\"1OyB\"),o=n(\"vuIU\"),a=n(\"Ji7U\"),c=n(\"md7G\"),u=n(\"foSv\"),d=n(\"q1tI\"),s=n(\"Tf9D\");function f(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var w=function(t){Object(a.a)(n,t);var e=f(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:\"componentDidMount\",value:function(){Object(s.a)(this.threeRootElement)}},{key:\"render\",value:function(){var t=this;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(\"div\",{ref:function(e){return t.threeRootElement=e},style:{width:\"100vw\",height:\"100vh\"}})})}}]),n}(d.Component);e.default=w}},[[\"OQCC\",0,1,3,15]]]);","map":{"version":3,"sources":["static/chunks/pages/projects/water-distort-5a466ac2ad1598d47252.js"],"names":["_N_E","window","push","1OyB","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","d","OQCC","exports","__NEXT_P","Qetd","assign","Object","bind","default","Tf9D","canvas","three__WEBPACK_IMPORTED_MODULE_0__","_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__","container","mesh","renderer","scene","camera","controls","sketch","API","Math","PI","setPixelRatio","devicePixelRatio","setSize","innerWidth","innerHeight","appendChild","domElement","position","set","background","add","movementSpeed","rollSpeed","autoForward","dragToLook","enableZoom","geometry","load","texture","wrapS","wrapT","anisotropy","material","map","matrixAutoUpdate","offset","center","matrix","identity","translate","render","updateUvTransform","animate","addEventListener","onWindowResize","init","repeatX","repeatY","requestAnimationFrame","rotation","repeat","x","y","z","aspect","updateProjectionMatrix","rQvH","r","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__","_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","_sketches_three_t2__WEBPACK_IMPORTED_MODULE_7__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","threePage","_Component","_super","key","value","threeRootElement","_this","children","ref","element","style","width","height"],"mappings":"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"},"name":"static/chunks/pages/projects/water-distort-5a466ac2ad1598d47252.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[44],{\n\n/***/ \"1OyB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _classCallCheck; });\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/***/ }),\n\n/***/ \"OQCC\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/projects/water-distort\",\n        function () {\n          return __webpack_require__(\"rQvH\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"Qetd\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar assign=Object.assign.bind(Object);module.exports=assign;module.exports.default=module.exports;\n//# sourceMappingURL=object-assign.js.map\n\n/***/ }),\n\n/***/ \"Tf9D\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return canvas; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"Womt\");\n/* harmony import */ var _jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"D/OE\");\n // import { GUI } from \"./jsm/libs/dat.gui.module.js\";\n\n\nvar canvas = function canvas(container) {\n  /**\n   * Setup\n   */\n  var mesh, renderer, scene, camera, controls, sketch;\n  var gui;\n  var API = {\n    offsetX: 0,\n    offsetY: 0,\n    repeatX: 0.25,\n    repeatY: 0.25,\n    rotation: Math.PI / 4,\n    // positive is counter-clockwise\n    centerX: 0.5,\n    centerY: 0.5\n  };\n  init();\n\n  function init() {\n    renderer = new three__WEBPACK_IMPORTED_MODULE_0__[/* WebGLRenderer */ \"qb\"]();\n    sketch = container;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    sketch.appendChild(renderer.domElement);\n    scene = new three__WEBPACK_IMPORTED_MODULE_0__[/* Scene */ \"ab\"]();\n    camera = new three__WEBPACK_IMPORTED_MODULE_0__[/* PerspectiveCamera */ \"R\"](40, window.innerWidth / window.innerHeight, 1, 1000);\n    camera.position.set(0, 0, 25);\n    scene.background = new three__WEBPACK_IMPORTED_MODULE_0__[/* Color */ \"j\"](0xffffff);\n    scene.add(camera);\n    /**\n     * Camera controls\n     */\n\n    controls = new _jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__[/* OrbitControls */ \"a\"](camera, renderer.domElement);\n    controls.movementSpeed = 10000;\n    controls.domElement = renderer.domElement;\n    controls.rollSpeed = Math.PI / 24;\n    controls.autoForward = true;\n    controls.dragToLook = true;\n    controls.enableZoom = false;\n    var geometry = new three__WEBPACK_IMPORTED_MODULE_0__[/* TorusKnotBufferGeometry */ \"gb\"](10, 3, 200, 200);\n    new three__WEBPACK_IMPORTED_MODULE_0__[/* TextureLoader */ \"fb\"]().load(\"/projects/three/19of19-tile-white.png\", function (texture) {\n      texture.wrapS = texture.wrapT = three__WEBPACK_IMPORTED_MODULE_0__[/* RepeatWrapping */ \"Z\"]; // texture.anisotropy = renderer.capabilities.getMaxAnisotropy();\n\n      texture.anisotropy = 1; //texture.matrixAutoUpdate = false; // default true; set to false to update texture.matrix manually\n\n      var material = new three__WEBPACK_IMPORTED_MODULE_0__[/* MeshBasicMaterial */ \"K\"]({\n        map: texture\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[/* Mesh */ \"J\"](geometry, material);\n      scene.add(mesh);\n      updateUvTransform();\n      animate();\n    });\n    window.addEventListener(\"resize\", onWindowResize, false);\n  } // our scale of the pattern\n\n\n  var repeatX = 0;\n  var repeatY = 0;\n  var frameCount = 0;\n\n  function animate() {\n    // call animate recursively\n    requestAnimationFrame(animate); // texture manipulation\n\n    var texture = mesh.material.map;\n    frameCount += 1;\n    repeatX += 0.01;\n    repeatY += 0.01; // if (repeatX < 13) {\n    //   repeatX += 0.01;\n    //   repeatY += 0.01;\n    // } else {\n    //   repeatX += 0.001;\n    //   repeatY += 0.001;\n    // }\n    // else {\n    //   if (repeatY < 60) {\n    //     repeatY += 0.05;\n    //   } else {\n    //     repeatX += 0.05;\n    //   }\n    // }\n    // console.log(\n    //   \"repeatX: \" +\n    //     repeatX +\n    //     \", repeatY: \" +\n    //     repeatY +\n    //     \", frameCount: \" +\n    //     frameCount\n    // );\n    // console.log(texture);\n\n    texture.rotation += 0.0001;\n    texture.repeat = {\n      x: repeatX,\n      y: repeatY\n    }; // increase the mesh's rotation each frame\n\n    mesh.rotation.z += 0.0008;\n    mesh.rotation.x += 0.0008;\n    mesh.rotation.y += 0.0008; // render, or 'create a still image', of the scene\n    // this will create one still image / frame each time the animate\n    // function calls itself\n\n    renderer.render(scene, camera);\n  }\n\n  function render() {\n    renderer.render(scene, camera);\n  }\n\n  function onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    render();\n  }\n\n  function updateUvTransform() {\n    var texture = mesh.material.map;\n\n    if (texture.matrixAutoUpdate === true) {\n      texture.offset.set(API.offsetX, API.offsetY); // texture.repeat.set(API.repeatX, API.repeatY);\n\n      texture.center.set(API.centerX, API.centerY); // texture.rotation = API.rotation; // rotation is around [ 0.5, 0.5 ]\n    } else {\n      // one way...\n      //texture.matrix.setUvTransform( API.offsetX, API.offsetY, API.repeatX, API.repeatY, API.rotation, API.centerX, API.centerY );\n      // another way...\n      texture.matrix.identity().translate(-API.centerX, -API.centerY) // .rotate(API.rotation) // I don't understand how rotation can preceed scale, but it seems to be required...\n      // .scale(API.repeatX, API.repeatY)\n      .translate(API.centerX, API.centerY).translate(API.offsetX, API.offsetY);\n    }\n\n    render();\n  } // function initGui() {\n  //   gui = new GUI();\n  //   gui\n  //     .add(API, \"offsetX\", 0.0, 1.0)\n  //     .name(\"offset.x\")\n  //     .onChange(updateUvTransform);\n  //   gui\n  //     .add(API, \"offsetY\", 0.0, 1.0)\n  //     .name(\"offset.y\")\n  //     .onChange(updateUvTransform);\n  //   // gui\n  //   //   .add(API, \"repeatX\", 0.25, 2.0)\n  //   //   .name(\"repeat.x\")\n  //   //   .onChange(updateUvTransform);\n  //   // gui\n  //   //   .add(API, \"repeatY\", 0.25, 2.0)\n  //   //   .name(\"repeat.y\")\n  //   //   .onChange(updateUvTransform);\n  //   // gui\n  //   //   .add(API, \"rotation\", -2.0, 2.0)\n  //   //   .name(\"rotation\")\n  //   //   .onChange(updateUvTransform);\n  //   gui\n  //     .add(API, \"centerX\", 0.0, 1.0)\n  //     .name(\"center.x\")\n  //     .onChange(updateUvTransform);\n  //   gui\n  //     .add(API, \"centerY\", 0.0, 1.0)\n  //     .name(\"center.y\")\n  //     .onChange(updateUvTransform);\n  // }\n\n}; // export const canvas = container => {\n//   // these need to be accessed inside more than one function so we'll declare them first\n//   let camera;\n//   let renderer;\n//   let scene;\n//   let mesh;\n//   function init() {\n//     // create a Scene\n//     scene = new THREE.Scene();\n//     scene.background = new THREE.Color(0x8fbcd4);\n//     // set up the options for a perspective camera\n//     const fov = 35; // fov = Field Of View\n//     const aspect = container.clientWidth / container.clientHeight;\n//     const near = 0.1;\n//     const far = 100;\n//     camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\n//     // every object is initially created at ( 0, 0, 0 )\n//     // we'll move the camera back a bit so that we can view the scene\n//     camera.position.set(0, 0, 10);\n//     // create a geometry\n//     const geometry = new THREE.BoxBufferGeometry(2, 2, 2);\n//     // create a purple Standard material\n//     const material = new THREE.MeshStandardMaterial({ color: 0x800080 });\n//     // create a Mesh containing the geometry and material\n//     mesh = new THREE.Mesh(geometry, material);\n//     // add the mesh to the scene object\n//     scene.add(mesh);\n//     // Create a directional light\n//     const light = new THREE.DirectionalLight(0xffffff, 5.0);\n//     // move the light back and up a bit\n//     light.position.set(10, 10, 10);\n//     // remember to add the light to the scene\n//     scene.add(light);\n//     // create a WebGLRenderer and set its width and height\n//     renderer = new THREE.WebGLRenderer({ antialias: true });\n//     renderer.setSize(container.clientWidth, container.clientHeight);\n//     renderer.setPixelRatio(window.devicePixelRatio);\n//     // add the automatically created <canvas> element to the page\n//     container.appendChild(renderer.domElement);\n//   }\n//   function animate() {\n//     // call animate recursively\n//     requestAnimationFrame(animate);\n//     // increase the mesh's rotation each frame\n//     mesh.rotation.z += 0.01;\n//     mesh.rotation.x += 0.01;\n//     mesh.rotation.y += 0.01;\n//     // render, or 'create a still image', of the scene\n//     // this will create one still image / frame each time the animate\n//     // function calls itself\n//     renderer.render(scene, camera);\n//   }\n//   // call the init function to set everything up\n//   init();\n//   // then call the animate function to render the scene\n//   animate();\n// };\n\n/***/ }),\n\n/***/ \"rQvH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"1OyB\");\n/* harmony import */ var _Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vuIU\");\n/* harmony import */ var _Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"Ji7U\");\n/* harmony import */ var _Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"md7G\");\n/* harmony import */ var _Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"foSv\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _sketches_three_t2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"Tf9D\");\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar threePage = /*#__PURE__*/function (_Component) {\n  Object(_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(threePage, _Component);\n\n  var _super = _createSuper(threePage);\n\n  function threePage() {\n    Object(_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this, threePage);\n\n    return _super.apply(this, arguments);\n  }\n\n  Object(_Users_pflaxalt_Repositories_pfl_web_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(threePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (\"object\") {\n        // @ts-ignore\n        Object(_sketches_three_t2__WEBPACK_IMPORTED_MODULE_7__[/* canvas */ \"a\"])(this.threeRootElement);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n          // @ts-ignore\n          ref: function ref(element) {\n            return _this.threeRootElement = element;\n          },\n          style: {\n            width: \"100vw\",\n            height: \"100vh\"\n          }\n        })\n      });\n    }\n  }]);\n\n  return threePage;\n}(react__WEBPACK_IMPORTED_MODULE_6__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (threePage);\n\n/***/ })\n\n},[[\"OQCC\",0,1,3,15]]]);","inputSourceMap":{"version":3,"sources":["/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fprojects%2Fwater-distort&absolutePagePath=private-next-pages%2Fprojects%2Fwater-distort.tsx!","/Users/pflaxalt/Repositories/_pfl/web/node_modules/next/dist/build/polyfills/object-assign.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/pflaxalt/Repositories/_pfl/web/sketches/three/t2.js","/Users/pflaxalt/Repositories/_pfl/web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/pflaxalt/Repositories/_pfl/web/pages/projects/water-distort.tsx"],"names":[],"mappings":";;;;;;;AAAA;AAAe;AACf;AACA;AACA;AACA,C;;;;;;;;ACHA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA+C;AACxE;AACA;;;;;;;;;ACNa,sCAAsC,sBAAsB;AACzE,yC;;;;;;;;ACDA;AAAA;AAAA;AAA+B,YAAY,MAAM;;AAEe;AACzD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,4DAAmB;AACtC;AACA;AACA;AACA;AACA,gBAAgB,oDAAW;AAC3B,iBAAiB,+DAAuB;AACxC;AACA,2BAA2B,mDAAW;AACtC;AACA;AACA;AACA;;AAEA,mBAAmB,oFAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sEAA6B;AACpD,QAAQ,4DAAmB;AAC3B,sCAAsC,4DAAoB,CAAC;;AAE3D,6BAA6B,oCAAoC,iBAAiB;;AAElF,yBAAyB,+DAAuB;AAChD;AACA,OAAO;AACP,iBAAiB,kDAAU;AAC3B;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;;AAEnC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mDAAmD;;AAEnD,mDAAmD,oCAAoC;AACvF,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,kBAAkB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,kBAAkB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;;;;;;;;ACnOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACV;AAC2E;AACN;AACN;AACkC;AACtB;;AAE3H,gCAAgC,6DAA6D,yCAAyC,aAAa,kJAAe,kBAAkB,iCAAiC,iBAAiB,kJAAe,mBAAmB,yDAAyD,EAAE,OAAO,uCAAuC,EAAE,QAAQ,6JAA0B,eAAe,GAAG;;AAEva,sCAAsC,wEAAwE,0CAA0C,8CAA8C,MAAM,wEAAwE,GAAG,aAAa,EAAE,YAAY,cAAc,EAAE;;AAEzR;AACQ;;AAEjD;AACA,EAAE,4IAAS;;AAEX;;AAEA;AACA,IAAI,kJAAe;;AAEnB;AACA;;AAEA,EAAE,+IAAY;AACd;AACA;AACA;AACA;AACA,QAAQ,yEAAM;AACd;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,0BAA0B,6DAAI,CAAC,0DAAS;AACxC,+BAA+B,6DAAI;AACnC;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC,CAAC,+CAAS;;AAEI,wEAAS,E","file":"x","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/projects/water-distort\",\n        function () {\n          return require(\"private-next-pages/projects/water-distort.tsx\");\n        }\n      ]);\n    ","\"use strict\";var assign=Object.assign.bind(Object);module.exports=assign;module.exports.default=module.exports;\n//# sourceMappingURL=object-assign.js.map","import * as THREE from \"three\"; // import { GUI } from \"./jsm/libs/dat.gui.module.js\";\n\nimport { OrbitControls } from \"./jsm/controls/OrbitControls.js\";\nexport var canvas = function canvas(container) {\n  /**\n   * Setup\n   */\n  var mesh, renderer, scene, camera, controls, sketch;\n  var gui;\n  var API = {\n    offsetX: 0,\n    offsetY: 0,\n    repeatX: 0.25,\n    repeatY: 0.25,\n    rotation: Math.PI / 4,\n    // positive is counter-clockwise\n    centerX: 0.5,\n    centerY: 0.5\n  };\n  init();\n\n  function init() {\n    renderer = new THREE.WebGLRenderer();\n    sketch = container;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    sketch.appendChild(renderer.domElement);\n    scene = new THREE.Scene();\n    camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 1000);\n    camera.position.set(0, 0, 25);\n    scene.background = new THREE.Color(0xffffff);\n    scene.add(camera);\n    /**\n     * Camera controls\n     */\n\n    controls = new OrbitControls(camera, renderer.domElement);\n    controls.movementSpeed = 10000;\n    controls.domElement = renderer.domElement;\n    controls.rollSpeed = Math.PI / 24;\n    controls.autoForward = true;\n    controls.dragToLook = true;\n    controls.enableZoom = false;\n    var geometry = new THREE.TorusKnotBufferGeometry(10, 3, 200, 200);\n    new THREE.TextureLoader().load(\"/projects/three/19of19-tile-white.png\", function (texture) {\n      texture.wrapS = texture.wrapT = THREE.RepeatWrapping; // texture.anisotropy = renderer.capabilities.getMaxAnisotropy();\n\n      texture.anisotropy = 1; //texture.matrixAutoUpdate = false; // default true; set to false to update texture.matrix manually\n\n      var material = new THREE.MeshBasicMaterial({\n        map: texture\n      });\n      mesh = new THREE.Mesh(geometry, material);\n      scene.add(mesh);\n      updateUvTransform();\n      animate();\n    });\n    window.addEventListener(\"resize\", onWindowResize, false);\n  } // our scale of the pattern\n\n\n  var repeatX = 0;\n  var repeatY = 0;\n  var frameCount = 0;\n\n  function animate() {\n    // call animate recursively\n    requestAnimationFrame(animate); // texture manipulation\n\n    var texture = mesh.material.map;\n    frameCount += 1;\n    repeatX += 0.01;\n    repeatY += 0.01; // if (repeatX < 13) {\n    //   repeatX += 0.01;\n    //   repeatY += 0.01;\n    // } else {\n    //   repeatX += 0.001;\n    //   repeatY += 0.001;\n    // }\n    // else {\n    //   if (repeatY < 60) {\n    //     repeatY += 0.05;\n    //   } else {\n    //     repeatX += 0.05;\n    //   }\n    // }\n    // console.log(\n    //   \"repeatX: \" +\n    //     repeatX +\n    //     \", repeatY: \" +\n    //     repeatY +\n    //     \", frameCount: \" +\n    //     frameCount\n    // );\n    // console.log(texture);\n\n    texture.rotation += 0.0001;\n    texture.repeat = {\n      x: repeatX,\n      y: repeatY\n    }; // increase the mesh's rotation each frame\n\n    mesh.rotation.z += 0.0008;\n    mesh.rotation.x += 0.0008;\n    mesh.rotation.y += 0.0008; // render, or 'create a still image', of the scene\n    // this will create one still image / frame each time the animate\n    // function calls itself\n\n    renderer.render(scene, camera);\n  }\n\n  function render() {\n    renderer.render(scene, camera);\n  }\n\n  function onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    render();\n  }\n\n  function updateUvTransform() {\n    var texture = mesh.material.map;\n\n    if (texture.matrixAutoUpdate === true) {\n      texture.offset.set(API.offsetX, API.offsetY); // texture.repeat.set(API.repeatX, API.repeatY);\n\n      texture.center.set(API.centerX, API.centerY); // texture.rotation = API.rotation; // rotation is around [ 0.5, 0.5 ]\n    } else {\n      // one way...\n      //texture.matrix.setUvTransform( API.offsetX, API.offsetY, API.repeatX, API.repeatY, API.rotation, API.centerX, API.centerY );\n      // another way...\n      texture.matrix.identity().translate(-API.centerX, -API.centerY) // .rotate(API.rotation) // I don't understand how rotation can preceed scale, but it seems to be required...\n      // .scale(API.repeatX, API.repeatY)\n      .translate(API.centerX, API.centerY).translate(API.offsetX, API.offsetY);\n    }\n\n    render();\n  } // function initGui() {\n  //   gui = new GUI();\n  //   gui\n  //     .add(API, \"offsetX\", 0.0, 1.0)\n  //     .name(\"offset.x\")\n  //     .onChange(updateUvTransform);\n  //   gui\n  //     .add(API, \"offsetY\", 0.0, 1.0)\n  //     .name(\"offset.y\")\n  //     .onChange(updateUvTransform);\n  //   // gui\n  //   //   .add(API, \"repeatX\", 0.25, 2.0)\n  //   //   .name(\"repeat.x\")\n  //   //   .onChange(updateUvTransform);\n  //   // gui\n  //   //   .add(API, \"repeatY\", 0.25, 2.0)\n  //   //   .name(\"repeat.y\")\n  //   //   .onChange(updateUvTransform);\n  //   // gui\n  //   //   .add(API, \"rotation\", -2.0, 2.0)\n  //   //   .name(\"rotation\")\n  //   //   .onChange(updateUvTransform);\n  //   gui\n  //     .add(API, \"centerX\", 0.0, 1.0)\n  //     .name(\"center.x\")\n  //     .onChange(updateUvTransform);\n  //   gui\n  //     .add(API, \"centerY\", 0.0, 1.0)\n  //     .name(\"center.y\")\n  //     .onChange(updateUvTransform);\n  // }\n\n}; // export const canvas = container => {\n//   // these need to be accessed inside more than one function so we'll declare them first\n//   let camera;\n//   let renderer;\n//   let scene;\n//   let mesh;\n//   function init() {\n//     // create a Scene\n//     scene = new THREE.Scene();\n//     scene.background = new THREE.Color(0x8fbcd4);\n//     // set up the options for a perspective camera\n//     const fov = 35; // fov = Field Of View\n//     const aspect = container.clientWidth / container.clientHeight;\n//     const near = 0.1;\n//     const far = 100;\n//     camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\n//     // every object is initially created at ( 0, 0, 0 )\n//     // we'll move the camera back a bit so that we can view the scene\n//     camera.position.set(0, 0, 10);\n//     // create a geometry\n//     const geometry = new THREE.BoxBufferGeometry(2, 2, 2);\n//     // create a purple Standard material\n//     const material = new THREE.MeshStandardMaterial({ color: 0x800080 });\n//     // create a Mesh containing the geometry and material\n//     mesh = new THREE.Mesh(geometry, material);\n//     // add the mesh to the scene object\n//     scene.add(mesh);\n//     // Create a directional light\n//     const light = new THREE.DirectionalLight(0xffffff, 5.0);\n//     // move the light back and up a bit\n//     light.position.set(10, 10, 10);\n//     // remember to add the light to the scene\n//     scene.add(light);\n//     // create a WebGLRenderer and set its width and height\n//     renderer = new THREE.WebGLRenderer({ antialias: true });\n//     renderer.setSize(container.clientWidth, container.clientHeight);\n//     renderer.setPixelRatio(window.devicePixelRatio);\n//     // add the automatically created <canvas> element to the page\n//     container.appendChild(renderer.domElement);\n//   }\n//   function animate() {\n//     // call animate recursively\n//     requestAnimationFrame(animate);\n//     // increase the mesh's rotation each frame\n//     mesh.rotation.z += 0.01;\n//     mesh.rotation.x += 0.01;\n//     mesh.rotation.y += 0.01;\n//     // render, or 'create a still image', of the scene\n//     // this will create one still image / frame each time the animate\n//     // function calls itself\n//     renderer.render(scene, camera);\n//   }\n//   // call the init function to set everything up\n//   init();\n//   // then call the animate function to render the scene\n//   animate();\n// };","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _classCallCheck from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { canvas } from \"../../sketches/three/t2\";\n\nvar threePage = /*#__PURE__*/function (_Component) {\n  _inherits(threePage, _Component);\n\n  var _super = _createSuper(threePage);\n\n  function threePage() {\n    _classCallCheck(this, threePage);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(threePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (\"object\") {\n        // @ts-ignore\n        canvas(this.threeRootElement);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(\"div\", {\n          // @ts-ignore\n          ref: function ref(element) {\n            return _this.threeRootElement = element;\n          },\n          style: {\n            width: \"100vw\",\n            height: \"100vh\"\n          }\n        })\n      });\n    }\n  }]);\n\n  return threePage;\n}(Component);\n\nexport default threePage;"]}}