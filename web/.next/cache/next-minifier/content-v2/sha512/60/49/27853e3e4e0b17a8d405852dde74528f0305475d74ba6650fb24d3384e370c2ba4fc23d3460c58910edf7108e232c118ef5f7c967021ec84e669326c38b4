{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{HAxO:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/projects/_scaffold-three\",function(){return n(\"Zcup\")}])},Zcup:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ThreeCanvasPage\",(function(){return E}));var o=n(\"nKUr\"),i=n(\"h4VS\"),r=n(\"1OyB\"),a=n(\"vuIU\"),c=n(\"JX7q\"),d=n(\"Ji7U\"),s=n(\"md7G\"),u=n(\"foSv\"),h=n(\"rePB\"),l=n(\"q1tI\"),w=n.n(l),f=n(\"vOnD\"),m=n(\"YMx+\"),p=n(\"AeVD\"),v=n(\"Womt\"),b=n(\"D/OE\"),j=function(e,t){var n,o,i,r,a,c,d=0,s=0,u=(Math.PI,.5),h=.5;!function(){o=new v.qb({alpha:!0}),c=e,o.setPixelRatio(window.devicePixelRatio),o.setSize(window.innerWidth,window.innerHeight),c.appendChild(o.domElement),i=new v.ab,(r=new v.R(40,window.innerWidth/window.innerHeight,1,1e3)).position.set(0,0,25),i.add(r),(a=new b.a(r,o.domElement)).movementSpeed=1e4,a.domElement=o.domElement,a.rollSpeed=Math.PI/24,a.autoForward=!0,a.dragToLook=!0,a.enableZoom=!1;var t=new v.gb(10,3,200,200);(new v.fb).load(\"/projects/three/stripe-tile.png\",(function(e){e.wrapS=e.wrapT=v.Z,e.anisotropy=1;var o=new v.K({map:e});n=new v.J(t,o),i.add(n),function(){var e=n.material.map;!0===e.matrixAutoUpdate?(e.offset.set(d,s),e.center.set(u,h)):e.matrix.identity().translate(-u,-h).translate(u,h).translate(d,s);m()}(),f()})),window.addEventListener(\"resize\",p,!1)}();var l=0,w=0;function f(){requestAnimationFrame(f);var e=n.material.map;l+=.01,w+=.01,e.rotation+=1e-4,e.repeat={x:l,y:w},n.rotation.z+=8e-4,n.rotation.x+=8e-4,n.rotation.y+=8e-4,o.render(i,r)}function m(){o.render(i,r)}function p(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight),m()}},x=n(\"/YLk\");function O(){var e=Object(i.a)([\"\\n      body, html {\\n        overflow: hidden;\\n      }\\n\\n      .three-container {\\n        width: 100vw;\\n        height: 100vh;\\n        overflow: hidden;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        canvas {\\n          animation: \",\" 1s ease 1;\\n          animation-fill-mode: forwards;\\n          animation-iteration-count: 1;\\n        }\\n\\n        #p5_loading {\\n          display: none !important;\\n        }\\n      }\\n    \"]);return O=function(){return e},e}function y(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Object(s.a)(this,n)}}var g=function(e){Object(d.a)(n,e);var t=y(n);function n(e){var o;return Object(r.a)(this,n),o=t.call(this,e),Object(h.a)(Object(c.a)(o),\"threeRootElement\",void 0),o.state={domLoaded:!1,windowWidth:0,windowHeight:0,canvasTheme:void 0},o}return Object(a.a)(n,[{key:\"componentDidMount\",value:function(){this.setState({windowWidth:window.innerWidth-80,windowHeight:window.innerHeight-80,domLoaded:!0,canvasTheme:this.props.colorThemeContext}),j(this.threeRootElement.el,this.props.colorThemeContext)}},{key:\"UNSAFE_componentWillReceiveProps\",value:function(e){e.colorThemeContext!=this.state.canvasTheme&&this.setState({canvasTheme:this.props.colorThemeContext})}},{key:\"render\",value:function(){var e=this,t=Object(f.a)(O(),m.a);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(t,{}),Object(o.jsx)(p.a,{}),Object(o.jsx)(\"div\",{ref:function(t){return e.threeRootElement={el:t,theme:e.state.canvasTheme}},className:\"three-container\"})]})}}]),n}(l.Component),E=function(){var e=w.a.useContext(x.b);return Object(o.jsx)(g,{colorThemeContext:e})};t.default=E}},[[\"HAxO\",0,1,3,2,5,4,6,8,11,14,15,16]]]);","map":{"version":3,"sources":["static/chunks/pages/projects/_scaffold-three-95fd4d9ff7223d123a26.js"],"names":["_N_E","window","push","HAxO","module","exports","__webpack_require__","__NEXT_P","Zcup","__webpack_exports__","r","d","_scaffold_three_ThreeCanvasPage","jsx_runtime","taggedTemplateLiteral","classCallCheck","createClass","assertThisInitialized","inherits","possibleConstructorReturn","getPrototypeOf","defineProperty","react","react_default","n","styled_components_browser_esm","Animation","InteractiveFrameHeader","three_module","OrbitControls","_scaffold_three_canvas_ThreeCanvas","container","CanvasTheme","mesh","renderer","scene","camera","controls","sketch","API","Math","PI","alpha","setPixelRatio","devicePixelRatio","setSize","innerWidth","innerHeight","appendChild","domElement","position","set","add","movementSpeed","rollSpeed","autoForward","dragToLook","enableZoom","geometry","load","texture","wrapS","wrapT","anisotropy","material","map","matrixAutoUpdate","offset","center","matrix","identity","translate","render","updateUvTransform","animate","addEventListener","onWindowResize","init","repeatX","repeatY","requestAnimationFrame","rotation","repeat","x","y","z","aspect","updateProjectionMatrix","Color","_templateObject","data","Object","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","_scaffold_three_ThreePageWithContext","_Component","ThreePageWithContext","_super","props","_this","state","domLoaded","windowWidth","windowHeight","canvasTheme","undefined","key","value","setState","colorThemeContext","threeRootElement","el","nextProps","_this2","ThreePageGlobalStyles","children","ref","element","theme","className","themeContext","a","useContext"],"mappings":"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"},"name":"static/chunks/pages/projects/_scaffold-three-95fd4d9ff7223d123a26.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[33],{\n\n/***/ \"HAxO\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/projects/_scaffold-three\",\n        function () {\n          return __webpack_require__(\"Zcup\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"Zcup\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"ThreeCanvasPage\", function() { return /* binding */ _scaffold_three_ThreeCanvasPage; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(\"h4VS\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"1OyB\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"vuIU\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(\"JX7q\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(\"Ji7U\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js + 1 modules\nvar possibleConstructorReturn = __webpack_require__(\"md7G\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(\"foSv\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"rePB\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./constants/styles/Animation.tsx\nvar Animation = __webpack_require__(\"YMx+\");\n\n// EXTERNAL MODULE: ./components/InteractiveFrameHeader/index.tsx + 3 modules\nvar InteractiveFrameHeader = __webpack_require__(\"AeVD\");\n\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(\"Womt\");\n\n// EXTERNAL MODULE: ./sketches/three/jsm/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(\"D/OE\");\n\n// CONCATENATED MODULE: ./sketches/three/_scaffold-three-canvas.ts\n\n // Begin Component\n// __________________________________________________________________________\n\nvar _scaffold_three_canvas_ThreeCanvas = function ThreeCanvas(container, CanvasTheme) {\n  /**\n   * Setup\n   */\n  var mesh, renderer, scene, camera, controls, sketch; // var gui;\n\n  var API = {\n    offsetX: 0,\n    offsetY: 0,\n    repeatX: 0.25,\n    repeatY: 0.25,\n    rotation: Math.PI / 4,\n    // positive is counter-clockwise\n    centerX: 0.5,\n    centerY: 0.5\n  };\n  init();\n\n  function init() {\n    renderer = new three_module[\"qb\" /* WebGLRenderer */]({\n      alpha: true\n    });\n    sketch = container;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    sketch.appendChild(renderer.domElement);\n    scene = new three_module[\"ab\" /* Scene */]();\n    camera = new three_module[\"R\" /* PerspectiveCamera */](40, window.innerWidth / window.innerHeight, 1, 1000);\n    camera.position.set(0, 0, 25); // scene.background = new THREE.Color(\n    //   `${hexToRGB(CanvasTheme.background, 0)}`\n    // );\n\n    scene.add(camera);\n    /**\n     * Camera controls\n     */\n\n    controls = new OrbitControls[\"a\" /* OrbitControls */](camera, renderer.domElement);\n    controls.movementSpeed = 10000;\n    controls.domElement = renderer.domElement;\n    controls.rollSpeed = Math.PI / 24;\n    controls.autoForward = true;\n    controls.dragToLook = true;\n    controls.enableZoom = false;\n    var geometry = new three_module[\"gb\" /* TorusKnotBufferGeometry */](10, 3, 200, 200);\n    new three_module[\"fb\" /* TextureLoader */]().load(\"/projects/three/stripe-tile.png\", function (texture) {\n      texture.wrapS = texture.wrapT = three_module[\"Z\" /* RepeatWrapping */]; // texture.anisotropy = renderer.capabilities.getMaxAnisotropy();\n\n      texture.anisotropy = 1; //texture.matrixAutoUpdate = false; // default true; set to false to update texture.matrix manually\n\n      var material = new three_module[\"K\" /* MeshBasicMaterial */]({\n        map: texture\n      });\n      mesh = new three_module[\"J\" /* Mesh */](geometry, material);\n      scene.add(mesh);\n      updateUvTransform();\n      animate();\n    });\n    window.addEventListener(\"resize\", onWindowResize, false);\n  } // our scale of the pattern\n\n\n  var repeatX = 0;\n  var repeatY = 0; // var frameCount = 0;\n\n  function animate() {\n    // call animate recursively\n    requestAnimationFrame(animate); // texture manipulation\n\n    var texture = mesh.material.map; // frameCount += 1;\n\n    repeatX += 0.01;\n    repeatY += 0.01;\n    texture.rotation += 0.0001;\n    texture.repeat = {\n      x: repeatX,\n      y: repeatY\n    }; // increase the mesh's rotation each frame\n\n    mesh.rotation.z += 0.0008;\n    mesh.rotation.x += 0.0008;\n    mesh.rotation.y += 0.0008; // render, or 'create a still image', of the scene\n    // this will create one still image / frame each time the animate\n    // function calls itself\n\n    renderer.render(scene, camera);\n  }\n\n  function render() {\n    renderer.render(scene, camera);\n  }\n\n  function onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    render();\n  }\n\n  function updateUvTransform() {\n    var texture = mesh.material.map;\n\n    if (texture.matrixAutoUpdate === true) {\n      texture.offset.set(API.offsetX, API.offsetY); // texture.repeat.set(API.repeatX, API.repeatY);\n\n      texture.center.set(API.centerX, API.centerY); // texture.rotation = API.rotation; // rotation is around [ 0.5, 0.5 ]\n    } else {\n      // one way...\n      //texture.matrix.setUvTransform( API.offsetX, API.offsetY, API.repeatX, API.repeatY, API.rotation, API.centerX, API.centerY );\n      // another way...\n      texture.matrix.identity().translate(-API.centerX, -API.centerY).translate(API.centerX, API.centerY).translate(API.offsetX, API.offsetY);\n    }\n\n    render();\n  }\n};\n// EXTERNAL MODULE: ./constants/styles/Color.tsx\nvar Color = __webpack_require__(\"/YLk\");\n\n// CONCATENATED MODULE: ./pages/projects/_scaffold-three.tsx\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _templateObject() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n      body, html {\\n        overflow: hidden;\\n      }\\n\\n      .three-container {\\n        width: 100vw;\\n        height: 100vh;\\n        overflow: hidden;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        canvas {\\n          animation: \", \" 1s ease 1;\\n          animation-fill-mode: forwards;\\n          animation-iteration-count: 1;\\n        }\\n\\n        #p5_loading {\\n          display: none !important;\\n        }\\n      }\\n    \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(getPrototypeOf[\"a\" /* default */])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(getPrototypeOf[\"a\" /* default */])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(possibleConstructorReturn[\"a\" /* default */])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n // ______________________________________________________________\n\nvar _scaffold_three_ThreePageWithContext = /*#__PURE__*/function (_Component) {\n  Object(inherits[\"a\" /* default */])(ThreePageWithContext, _Component);\n\n  var _super = _createSuper(ThreePageWithContext);\n\n  function ThreePageWithContext(props) {\n    var _this;\n\n    Object(classCallCheck[\"a\" /* default */])(this, ThreePageWithContext);\n\n    _this = _super.call(this, props);\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"threeRootElement\", void 0);\n\n    _this.state = {\n      domLoaded: false,\n      windowWidth: 0,\n      windowHeight: 0,\n      canvasTheme: undefined\n    };\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(ThreePageWithContext, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (\"object\") {\n        this.setState({\n          windowWidth: window.innerWidth - 80,\n          windowHeight: window.innerHeight - 80,\n          domLoaded: true,\n          canvasTheme: this.props.colorThemeContext\n        });\n        _scaffold_three_canvas_ThreeCanvas(this.threeRootElement.el, this.props.colorThemeContext);\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.colorThemeContext != this.state.canvasTheme) {\n        this.setState({\n          canvasTheme: this.props.colorThemeContext\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var ThreePageGlobalStyles = Object(styled_components_browser_esm[\"a\" /* createGlobalStyle */])(_templateObject(), Animation[\"a\" /* FadeIn */]);\n      return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ThreePageGlobalStyles, {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InteractiveFrameHeader[\"a\" /* InteractiveFrameHeader */], {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n          ref: function ref(element) {\n            return _this2.threeRootElement = {\n              el: element,\n              theme: _this2.state.canvasTheme\n            };\n          },\n          className: \"three-container\"\n        })]\n      });\n    }\n  }]);\n\n  return ThreePageWithContext;\n}(react[\"Component\"]);\n\nvar _scaffold_three_ThreeCanvasPage = function ThreeCanvasPage() {\n  var themeContext = react_default.a.useContext(Color[\"b\" /* ColorContext */]);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_scaffold_three_ThreePageWithContext, {\n    colorThemeContext: themeContext\n  });\n};\n/* harmony default export */ var _scaffold_three = __webpack_exports__[\"default\"] = (_scaffold_three_ThreeCanvasPage);\n\n/***/ })\n\n},[[\"HAxO\",0,1,3,2,5,4,6,8,11,14,15,16]]]);","inputSourceMap":{"version":3,"sources":["/Users/pflaxalt/Repositories/_pfl/web/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fprojects%2F_scaffold-three&absolutePagePath=private-next-pages%2Fprojects%2F_scaffold-three.tsx!","/Users/pflaxalt/Repositories/_pfl/web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/pflaxalt/Repositories/_pfl/web/sketches/three/_scaffold-three-canvas.ts","/Users/pflaxalt/Repositories/_pfl/web/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/pflaxalt/Repositories/_pfl/web/pages/projects/_scaffold-three.tsx"],"names":[],"mappings":"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","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/projects/_scaffold-three\",\n        function () {\n          return require(\"private-next-pages/projects/_scaffold-three.tsx\");\n        }\n      ]);\n    ","import * as THREE from \"three\";\nimport { OrbitControls } from \"./jsm/controls/OrbitControls.js\"; // Begin Component\n// __________________________________________________________________________\n\nexport var ThreeCanvas = function ThreeCanvas(container, CanvasTheme) {\n  /**\n   * Setup\n   */\n  var mesh, renderer, scene, camera, controls, sketch; // var gui;\n\n  var API = {\n    offsetX: 0,\n    offsetY: 0,\n    repeatX: 0.25,\n    repeatY: 0.25,\n    rotation: Math.PI / 4,\n    // positive is counter-clockwise\n    centerX: 0.5,\n    centerY: 0.5\n  };\n  init();\n\n  function init() {\n    renderer = new THREE.WebGLRenderer({\n      alpha: true\n    });\n    sketch = container;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    sketch.appendChild(renderer.domElement);\n    scene = new THREE.Scene();\n    camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 1000);\n    camera.position.set(0, 0, 25); // scene.background = new THREE.Color(\n    //   `${hexToRGB(CanvasTheme.background, 0)}`\n    // );\n\n    scene.add(camera);\n    /**\n     * Camera controls\n     */\n\n    controls = new OrbitControls(camera, renderer.domElement);\n    controls.movementSpeed = 10000;\n    controls.domElement = renderer.domElement;\n    controls.rollSpeed = Math.PI / 24;\n    controls.autoForward = true;\n    controls.dragToLook = true;\n    controls.enableZoom = false;\n    var geometry = new THREE.TorusKnotBufferGeometry(10, 3, 200, 200);\n    new THREE.TextureLoader().load(\"/projects/three/stripe-tile.png\", function (texture) {\n      texture.wrapS = texture.wrapT = THREE.RepeatWrapping; // texture.anisotropy = renderer.capabilities.getMaxAnisotropy();\n\n      texture.anisotropy = 1; //texture.matrixAutoUpdate = false; // default true; set to false to update texture.matrix manually\n\n      var material = new THREE.MeshBasicMaterial({\n        map: texture\n      });\n      mesh = new THREE.Mesh(geometry, material);\n      scene.add(mesh);\n      updateUvTransform();\n      animate();\n    });\n    window.addEventListener(\"resize\", onWindowResize, false);\n  } // our scale of the pattern\n\n\n  var repeatX = 0;\n  var repeatY = 0; // var frameCount = 0;\n\n  function animate() {\n    // call animate recursively\n    requestAnimationFrame(animate); // texture manipulation\n\n    var texture = mesh.material.map; // frameCount += 1;\n\n    repeatX += 0.01;\n    repeatY += 0.01;\n    texture.rotation += 0.0001;\n    texture.repeat = {\n      x: repeatX,\n      y: repeatY\n    }; // increase the mesh's rotation each frame\n\n    mesh.rotation.z += 0.0008;\n    mesh.rotation.x += 0.0008;\n    mesh.rotation.y += 0.0008; // render, or 'create a still image', of the scene\n    // this will create one still image / frame each time the animate\n    // function calls itself\n\n    renderer.render(scene, camera);\n  }\n\n  function render() {\n    renderer.render(scene, camera);\n  }\n\n  function onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    render();\n  }\n\n  function updateUvTransform() {\n    var texture = mesh.material.map;\n\n    if (texture.matrixAutoUpdate === true) {\n      texture.offset.set(API.offsetX, API.offsetY); // texture.repeat.set(API.repeatX, API.repeatY);\n\n      texture.center.set(API.centerX, API.centerY); // texture.rotation = API.rotation; // rotation is around [ 0.5, 0.5 ]\n    } else {\n      // one way...\n      //texture.matrix.setUvTransform( API.offsetX, API.offsetY, API.repeatX, API.repeatY, API.rotation, API.centerX, API.centerY );\n      // another way...\n      texture.matrix.identity().translate(-API.centerX, -API.centerY).translate(API.centerX, API.centerY).translate(API.offsetX, API.offsetY);\n    }\n\n    render();\n  }\n};","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _taggedTemplateLiteral from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n      body, html {\\n        overflow: hidden;\\n      }\\n\\n      .three-container {\\n        width: 100vw;\\n        height: 100vh;\\n        overflow: hidden;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        canvas {\\n          animation: \", \" 1s ease 1;\\n          animation-fill-mode: forwards;\\n          animation-iteration-count: 1;\\n        }\\n\\n        #p5_loading {\\n          display: none !important;\\n        }\\n      }\\n    \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { FadeIn } from \"../../constants/styles/Animation\";\nimport { InteractiveFrameHeader } from \"../../components/InteractiveFrameHeader\";\nimport { ThreeCanvas } from \"../../sketches/three/_scaffold-three-canvas\";\nimport { ColorContext } from \"../../constants/styles/Color\"; // ______________________________________________________________\n\nvar ThreePageWithContext = /*#__PURE__*/function (_Component) {\n  _inherits(ThreePageWithContext, _Component);\n\n  var _super = _createSuper(ThreePageWithContext);\n\n  function ThreePageWithContext(props) {\n    var _this;\n\n    _classCallCheck(this, ThreePageWithContext);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"threeRootElement\", void 0);\n\n    _this.state = {\n      domLoaded: false,\n      windowWidth: 0,\n      windowHeight: 0,\n      canvasTheme: undefined\n    };\n    return _this;\n  }\n\n  _createClass(ThreePageWithContext, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (\"object\") {\n        this.setState({\n          windowWidth: window.innerWidth - 80,\n          windowHeight: window.innerHeight - 80,\n          domLoaded: true,\n          canvasTheme: this.props.colorThemeContext\n        });\n        ThreeCanvas(this.threeRootElement.el, this.props.colorThemeContext);\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.colorThemeContext != this.state.canvasTheme) {\n        this.setState({\n          canvasTheme: this.props.colorThemeContext\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var ThreePageGlobalStyles = createGlobalStyle(_templateObject(), FadeIn);\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(ThreePageGlobalStyles, {}), /*#__PURE__*/_jsx(InteractiveFrameHeader, {}), /*#__PURE__*/_jsx(\"div\", {\n          ref: function ref(element) {\n            return _this2.threeRootElement = {\n              el: element,\n              theme: _this2.state.canvasTheme\n            };\n          },\n          className: \"three-container\"\n        })]\n      });\n    }\n  }]);\n\n  return ThreePageWithContext;\n}(Component);\n\nexport var ThreeCanvasPage = function ThreeCanvasPage() {\n  var themeContext = React.useContext(ColorContext);\n  return /*#__PURE__*/_jsx(ThreePageWithContext, {\n    colorThemeContext: themeContext\n  });\n};\nexport default ThreeCanvasPage;"]}}