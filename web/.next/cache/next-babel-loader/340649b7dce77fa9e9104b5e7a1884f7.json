{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// Core\nimport React, { useEffect, useState } from \"react\";\nimport { SiteProjects } from \"../../../constants/site/Settings\";\n// Components\n// Styles\nimport { ProjectScrollSectionClassName, ProjectScrollSectionGlobalStyles, ProjectScrollSectionStyle, ScrollCardClassName, ScrollCardStyle } from \"./styles.scss\"; // Begin Types\n// __________________________________________________________________________________________\n\n// Begin Component\n// __________________________________________________________________________________________\nlet lastTranslateX = 0;\nexport const ScrollCard = ({\n  item,\n  count,\n  total\n}) => {\n  let {\n    cover\n  } = item;\n  return /*#__PURE__*/_jsx(ScrollCardStyle, {\n    className: `${ScrollCardClassName}`,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: `${ScrollCardClassName}__inner`,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: `${ScrollCardClassName}__row ${ScrollCardClassName}__row--top`,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: `${ScrollCardClassName}__col ${ScrollCardClassName}__col--top-left`,\n          children: [\"No \", count, \" / \", total]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `${ScrollCardClassName}__col ${ScrollCardClassName}__col--top-right`,\n          children: item.duration && item.duration\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: `${ScrollCardClassName}__row ${ScrollCardClassName}__row--center`,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: `${ScrollCardClassName}__image-wrapper`,\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            className: `${ScrollCardClassName}__image ${ScrollCardClassName}__image--filtered`,\n            src: cover\n          }), /*#__PURE__*/_jsx(\"img\", {\n            className: `${ScrollCardClassName}__image ${ScrollCardClassName}__image--normal`,\n            src: cover\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: `${ScrollCardClassName}__row ${ScrollCardClassName}__row--bottom`,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: `${ScrollCardClassName}__col ${ScrollCardClassName}__col--bottom-left`,\n          children: [/*#__PURE__*/_jsx(\"strong\", {\n            className: `${ScrollCardClassName}__col__content-row ${ScrollCardClassName}__col__content-row--content-major`,\n            children: item.name\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: `${ScrollCardClassName}__col__content-row ${ScrollCardClassName}__col__content-row--content-minor ${ScrollCardClassName}__col__content-row--tag-list`,\n            children: item.categories.map((category, idx) => {\n              return /*#__PURE__*/_jsxs(\"span\", {\n                children: [category.name, \" \", idx + 1 !== item.categories.length ? \"/\" + \" \" : \"\"]\n              }, idx);\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: `${ScrollCardClassName}__col ${ScrollCardClassName}__col--bottom-right`,\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            className: `${ScrollCardClassName}__col__content-row ${ScrollCardClassName}__col__content-row--content-major`,\n            children: item.type\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: `${ScrollCardClassName}__col__content-row ${ScrollCardClassName}__col__content-row--content-minor`,\n            children: item.location\n          })]\n        })]\n      })]\n    })\n  });\n};\nexport const ProjectScrollSection = ({\n  addClass = \"\"\n}) => {\n  const {\n    0: dynamicHeight,\n    1: setDynamicHeight\n  } = useState(null);\n  const {\n    0: translateX,\n    1: setTranslateX\n  } = useState(0);\n  const containerRef = React.useRef();\n  const objectRef = React.useRef();\n\n  const calcDynamicHeight = objectWidth => {\n    const vw = window.innerWidth;\n    const vh = window.innerHeight;\n    return objectWidth - vw + vh + 300;\n  };\n\n  const handleDynamicHeight = (ref, setDynamicHeight) => {\n    const objectWidth = ref.current.scrollWidth;\n    const dynamicHeight = calcDynamicHeight(objectWidth);\n    setDynamicHeight(dynamicHeight);\n  };\n\n  const applyScrollListener = (ref, setTranslateX) => {\n    window.addEventListener(\"scroll\", () => {\n      const offsetTop = ref && ref.current ? -ref.current.offsetTop : 0;\n      setTranslateX(offsetTop);\n    });\n  };\n\n  const resizeHandler = () => {\n    handleDynamicHeight(objectRef, setDynamicHeight);\n  };\n\n  useEffect(() => {\n    handleDynamicHeight(objectRef, setDynamicHeight);\n    window.addEventListener(\"resize\", resizeHandler);\n    applyScrollListener(containerRef, setTranslateX);\n  }, []);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(ProjectScrollSectionGlobalStyles, {\n      isScrolled: translateX < -10\n    }), /*#__PURE__*/_jsx(ProjectScrollSectionStyle, {\n      className: `${ProjectScrollSectionClassName} ${ProjectScrollSectionClassName}--${translateX < -10 ? `is-scrolled` : `is-not-scrolled`} ${ProjectScrollSectionClassName}--${translateX > lastTranslateX ? `is-at-end` : `is-not-at-end`} ${addClass && addClass}`,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: `${ProjectScrollSectionClassName}__outer`,\n        style: {\n          height: `${dynamicHeight}px`\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: `${ProjectScrollSectionClassName}__sticky-wrapper`,\n          ref: containerRef,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: `${ProjectScrollSectionClassName}__x-translate-wrapper`,\n            style: {\n              transform: `translate3d(${translateX}px, 0px, 0px)`\n            },\n            ref: objectRef,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: `${ProjectScrollSectionClassName}__horizontal-wrapper`,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: `${ProjectScrollSectionClassName}__content-wrapper`,\n                children: SiteProjects.map((item, idx) => {\n                  return /*#__PURE__*/_jsx(ScrollCard, {\n                    count: idx + 1,\n                    total: SiteProjects.length,\n                    item: item\n                  }, idx);\n                })\n              })\n            })\n          })\n        })\n      })\n    })]\n  });\n}; // End Component\n// ______________________________________________________________________________","map":null,"metadata":{},"sourceType":"module"}