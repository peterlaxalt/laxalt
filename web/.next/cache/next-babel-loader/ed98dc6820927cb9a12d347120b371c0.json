{"ast":null,"code":"import _slicedToArray from \"/Users/pflaxalt/Repositories/_pfl/web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/**\n *\n * isVisible.ts\n * @description Dead simple function to know if something is in the viewport\n * @example https://stackoverflow.com/a/65008608/13364822\n *\n */\nimport { useEffect, useState } from \"react\";\nexport function isVisible(ref) {\n  _s();\n\n  var _useState = useState(false),\n      isIntersecting = _useState[0],\n      setIntersecting = _useState[1];\n\n  useEffect(function () {\n    var observer = new IntersectionObserver(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n          entry = _ref2[0];\n\n      return setIntersecting(entry.isIntersecting);\n    });\n    observer.observe(ref.current); // Remove the observer as soon as the component is unmounted\n\n    return function () {\n      observer.disconnect();\n    };\n  }, []);\n  return isIntersecting;\n}\n\n_s(isVisible, \"+TWZGT8mxcpNH+JS7IkSFv1hR0A=\");\n\nexport function percentIsVisible(ref, percentVisible) {\n  _s2();\n\n  var _useState2 = useState(false),\n      isIntersecting = _useState2[0],\n      setIntersecting = _useState2[1];\n\n  percentVisible;\n  useEffect(function () {\n    var observer = new IntersectionObserver(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 1),\n          entry = _ref4[0];\n\n      console.log(entry);\n      setIntersecting(entry.isIntersecting);\n    });\n    observer.observe(ref.current); // Remove the observer as soon as the component is unmounted\n\n    return function () {\n      observer.disconnect();\n    };\n  }, []);\n  return isIntersecting;\n}\n\n_s2(percentIsVisible, \"+TWZGT8mxcpNH+JS7IkSFv1hR0A=\");","map":{"version":3,"sources":["/Users/pflaxalt/Repositories/_pfl/web/utils/isVisible.ts"],"names":["useEffect","useState","isVisible","ref","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","observe","current","disconnect","percentIsVisible","percentVisible","console","log"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,OAAO,SAASC,SAAT,CAAmBC,GAAnB,EAA8C;AAAA;;AAAA,kBACTF,QAAQ,CAAC,KAAD,CADC;AAAA,MAC5CG,cAD4C;AAAA,MAC5BC,eAD4B;;AAGnDL,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMM,QAAQ,GAAG,IAAIC,oBAAJ,CAAyB;AAAA;AAAA,UAAEC,KAAF;;AAAA,aACxCH,eAAe,CAACG,KAAK,CAACJ,cAAP,CADyB;AAAA,KAAzB,CAAjB;AAIAE,IAAAA,QAAQ,CAACG,OAAT,CAAiBN,GAAG,CAACO,OAArB,EALc,CAMd;;AACA,WAAO,YAAM;AACXJ,MAAAA,QAAQ,CAACK,UAAT;AACD,KAFD;AAGD,GAVQ,EAUN,EAVM,CAAT;AAYA,SAAOP,cAAP;AACD;;GAhBeF,S;;AAkBhB,OAAO,SAASU,gBAAT,CACLT,GADK,EAELU,cAFK,EAGL;AAAA;;AAAA,mBAC0CZ,QAAQ,CAAC,KAAD,CADlD;AAAA,MACOG,cADP;AAAA,MACuBC,eADvB;;AAEAQ,EAAAA,cAAc;AAEdb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMM,QAAQ,GAAG,IAAIC,oBAAJ,CAAyB,iBAAa;AAAA;AAAA,UAAXC,KAAW;;AACrDM,MAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AAEAH,MAAAA,eAAe,CAACG,KAAK,CAACJ,cAAP,CAAf;AACD,KAJgB,CAAjB;AAMAE,IAAAA,QAAQ,CAACG,OAAT,CAAiBN,GAAG,CAACO,OAArB,EAPc,CAQd;;AACA,WAAO,YAAM;AACXJ,MAAAA,QAAQ,CAACK,UAAT;AACD,KAFD;AAGD,GAZQ,EAYN,EAZM,CAAT;AAcA,SAAOP,cAAP;AACD;;IAtBeQ,gB","sourcesContent":["/**\n *\n * isVisible.ts\n * @description Dead simple function to know if something is in the viewport\n * @example https://stackoverflow.com/a/65008608/13364822\n *\n */\n\nimport { useEffect, useState } from \"react\";\n\nexport function isVisible(ref: React.RefObject<any>) {\n  const [isIntersecting, setIntersecting] = useState(false);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) =>\n      setIntersecting(entry.isIntersecting)\n    );\n\n    observer.observe(ref.current);\n    // Remove the observer as soon as the component is unmounted\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return isIntersecting;\n}\n\nexport function percentIsVisible(\n  ref: React.RefObject<any>,\n  percentVisible: number\n) {\n  const [isIntersecting, setIntersecting] = useState(false);\n  percentVisible;\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      console.log(entry);\n\n      setIntersecting(entry.isIntersecting);\n    });\n\n    observer.observe(ref.current);\n    // Remove the observer as soon as the component is unmounted\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return isIntersecting;\n}\n"]},"metadata":{},"sourceType":"module"}