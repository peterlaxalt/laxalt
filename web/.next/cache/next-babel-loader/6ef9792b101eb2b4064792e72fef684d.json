{"ast":null,"code":"/**\n *\n * Sin Wave Fluid Grid\n * @author Peter Laxalt\n * @description Simple Sin Wave Fluid Grid in p5.js\n *\n */\n// Begin Component\n//////////////////////////////////////////////////////////////////////\nexport default (function (W, H) {\n  return function (p) {\n    // Variables\n    var color = {\n      primary: \"red\",\n      primaryAlpha: \"red\",\n      secondary: \"cyan\",\n      bg: \"blue\",\n      white: \"#ffffff\"\n    };\n    var coordinates = []; // Setup\n\n    p.setup = function () {\n      p.createCanvas(W, H, p.WEBGL);\n      var gutter = 20;\n      var countX = p.ceil(p.width / gutter) + 1;\n      var countY = p.ceil(p.height / gutter) + 1;\n\n      for (var j = 0; j < countY; j++) {\n        for (var i = 0; i < countX; i++) {\n          coordinates.push(new p5.Vector(gutter * i, gutter * j));\n        }\n      }\n\n      p.noFill();\n      p.stroke(color.secondary);\n    }; // Draw Loop\n\n\n    p.draw = function () {\n      p.background(color.bg);\n\n      for (var i = coordinates.length - 1; i >= 0; i--) {\n        var h = calcVec(coordinates[i].x - p.mouseX, coordinates[i].y - p.mouseY);\n        p.line(coordinates[i].x, coordinates[i].y, coordinates[i].x + 15 * p.cos(h.heading()), coordinates[i].y + 15 * p.sin(h.heading()));\n      }\n    };\n\n    var calcVec = function calcVec(x, y) {\n      return new p5.Vector(y - x, -x - y);\n    };\n\n    p.windowResized = function () {\n      p.resizeCanvas(W, H);\n      p.background(\"yellow\");\n    };\n  };\n});","map":{"version":3,"sources":["/Users/pflaxalt/Repositories/_pfl/web/sketches/p5/d3.tsx"],"names":["W","H","p","color","primary","primaryAlpha","secondary","bg","white","coordinates","setup","createCanvas","WEBGL","gutter","countX","ceil","width","countY","height","j","i","push","p5","Vector","noFill","stroke","draw","background","length","h","calcVec","x","mouseX","y","mouseY","line","cos","heading","sin","windowResized","resizeCanvas"],"mappings":"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","sourcesContent":["/**\n *\n * Sin Wave Fluid Grid\n * @author Peter Laxalt\n * @description Simple Sin Wave Fluid Grid in p5.js\n *\n */\n\n// Begin Component\n//////////////////////////////////////////////////////////////////////\n\nexport default (W: any, H: any) => (p: any) => {\n  // Variables\n  let color = {\n    primary: \"red\",\n    primaryAlpha: \"red\",\n    secondary: \"cyan\",\n    bg: \"blue\",\n    white: \"#ffffff\"\n  };\n\n  let coordinates: any[] = [];\n\n  // Setup\n  p.setup = () => {\n    p.createCanvas(W, H, p.WEBGL);\n\n    let gutter = 20;\n    let countX = p.ceil(p.width / gutter) + 1;\n    let countY = p.ceil(p.height / gutter) + 1;\n\n    for (let j = 0; j < countY; j++) {\n      for (let i = 0; i < countX; i++) {\n        coordinates.push(new p5.Vector(gutter * i, gutter * j));\n      }\n    }\n\n    p.noFill();\n    p.stroke(color.secondary);\n  };\n\n  // Draw Loop\n  p.draw = () => {\n    p.background(color.bg);\n    for (let i = coordinates.length - 1; i >= 0; i--) {\n      let h = calcVec(coordinates[i].x - p.mouseX, coordinates[i].y - p.mouseY);\n      p.line(\n        coordinates[i].x,\n        coordinates[i].y,\n        coordinates[i].x + 15 * p.cos(h.heading()),\n        coordinates[i].y + 15 * p.sin(h.heading())\n      );\n    }\n  };\n\n  const calcVec = (x: number, y: number) => {\n    return new p5.Vector(y - x, -x - y);\n  };\n\n  p.windowResized = () => {\n    p.resizeCanvas(W, H);\n    p.background(\"yellow\");\n  };\n};\n"]},"metadata":{},"sourceType":"module"}