{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// Core\nimport React, { useEffect, useRef, useState } from \"react\"; // Types\n\nimport { SiteProjects } from \"../../../constants/site/Settings\"; // Vendor\n\nimport gsap from \"gsap\"; // Components\n\nimport { ProjectCard } from \"../../ProjectCard\"; // Styles\n\nimport { ProjectNextSectionClassName, ProjectNextSectionStyle } from \"./styles.scss\";\nimport Link from \"next/link\"; // Begin Types\n// __________________________________________________________________________________________\n\n// Begin Component\n// __________________________________________________________________________________________\nvar lastTranslateX = 0;\nexport var ProjectNextSection = /*#__PURE__*/React.memo(function (_ref) {\n  var _ref$addClass = _ref.addClass,\n      addClass = _ref$addClass === void 0 ? \"\" : _ref$addClass,\n      project = _ref.project;\n\n  var _useState = useState(null),\n      dynamicHeight = _useState[0],\n      setDynamicHeight = _useState[1]; // const [translateX, setTranslateX] = useState(0);\n  // const [windowSize, setWindowSize] = useState(0);\n\n\n  var _useState2 = useState(false),\n      isBreakPoint = _useState2[0],\n      setBreakPoint = _useState2[1];\n\n  var _useState3 = useState(false),\n      isScrolled = _useState3[0],\n      setScrolled = _useState3[1];\n\n  var containerRef = useRef();\n  var objectRef = useRef();\n  var currentTranslation = 0;\n  var boundingClientX = 0;\n\n  var calcDynamicHeight = function calcDynamicHeight(objectWidth) {\n    var vw = window.innerWidth;\n    var vh = window.innerHeight;\n    return objectWidth - vw + vh;\n  };\n\n  var handleDynamicHeight = function handleDynamicHeight(ref, setDynamicHeight) {\n    if (ref && ref.current) {\n      var objectWidth = ref.current.scrollWidth;\n\n      var _dynamicHeight = calcDynamicHeight(objectWidth);\n\n      setDynamicHeight(_dynamicHeight);\n    }\n  };\n\n  var applyScrollListener = function applyScrollListener(ref) // setTranslateX: (translateX: number) => void\n  {\n    window.addEventListener(\"scroll\", function () {\n      var offsetTop = ref && ref.current ? -ref.current.offsetTop : 0; // setDharmaPaused(offsetTop < windowSize / -2);\n      // setTranslateX(offsetTop);\n\n      gsap.to(objectRef.current, {\n        x: offsetTop,\n        transition: 0.1,\n        // duration: 0.02,\n        ease: \"sine.out\"\n      });\n\n      if (offsetTop < window.innerWidth / -2) {\n        setBreakPoint(true);\n      } else {\n        setBreakPoint(false);\n      }\n\n      if (offsetTop < -100) {\n        setScrolled(true);\n      } else {\n        setScrolled(false);\n      }\n\n      window.dharmaPaused = offsetTop < window.innerWidth / -2;\n    });\n  };\n\n  var resizeHandler = function resizeHandler() {\n    handleDynamicHeight(objectRef, setDynamicHeight); // setWindowSize(window.innerWidth);\n  };\n\n  useEffect(function () {\n    handleDynamicHeight(objectRef, setDynamicHeight);\n    window.addEventListener(\"resize\", resizeHandler);\n    applyScrollListener(containerRef);\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(ProjectNextSectionStyle, {\n      className: \"\".concat(ProjectNextSectionClassName, \" \").concat(ProjectNextSectionClassName, \"--\").concat(isScrolled ? \"is-scrolled\" : \"is-not-scrolled\", \" \").concat(ProjectNextSectionClassName, \"--\").concat(isBreakPoint ? \"is-at-breakpoint\" : \"is-not-at-breakpoint\", \" \").concat(ProjectNextSectionClassName, \"--\").concat(boundingClientX > lastTranslateX ? \"is-at-end\" : \"is-not-at-end\", \" \").concat(addClass && addClass),\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"\".concat(ProjectNextSectionClassName, \"__outer\"),\n        style: {\n          height: \"\".concat(dynamicHeight, \"px\")\n        },\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"\".concat(ProjectNextSectionClassName, \"__sticky-wrapper\"),\n          ref: containerRef,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"\".concat(ProjectNextSectionClassName, \"__headline \").concat(ProjectNextSectionClassName, \"__headline--next \"),\n            children: \"Up Next\"\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"\".concat(ProjectNextSectionClassName, \"__headline \").concat(ProjectNextSectionClassName, \"__headline--keep-browsing \"),\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              children: \"IN\"\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/\".concat(project.parentSlug),\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: project.parentSlug\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"\".concat(ProjectNextSectionClassName, \"__x-translate-wrapper\") // style={{ transform: `translate3d(${translateX}px, 0px, 0px)` }}\n            ,\n            ref: objectRef,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"\".concat(ProjectNextSectionClassName, \"__horizontal-wrapper\"),\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"\".concat(ProjectNextSectionClassName, \"__content-wrapper\"),\n                children: SiteProjects.map(function (item, idx) {\n                  if (item.slug !== project.slug) {\n                    return /*#__PURE__*/_jsx(ProjectCard, {\n                      count: idx + 1,\n                      total: SiteProjects.length,\n                      item: item\n                    }, idx);\n                  } else {\n                    return null;\n                  }\n                })\n              })\n            })\n          })]\n        })\n      })\n    })\n  });\n}); // End Component\n// ______________________________________________________________________________","map":null,"metadata":{},"sourceType":"module"}