{"ast":null,"code":"/**\n *\n * * @see https://tympanus.net/codrops/2019/10/08/creating-a-water-like-distortion-effect-with-three-js/\n *\n */\n// ____________________________________________________________________________________\nimport * as THREE from \"three\";\nimport { Effect } from \"postprocessing\";\nexport class WaterEffect extends Effect {\n  constructor(options = {\n    texture: undefined\n  }) {\n    super(\"WaterEffect\", fragment, {\n      uniforms: new Map([[\"uTexture\", new THREE.Uniform(options.texture)]])\n    });\n  }\n\n}\nexport default WaterEffect;\nconst fragment = `\n\nuniform sampler2D uTexture;\n\nvoid mainUv(inout vec2 uv) {\n        vec4 tex = texture2D(uTexture, uv);\n\n        float angle = -((tex.r) * (PI * 2.) - PI) ;\n\n        float vx = -(tex.r *2. - 1.);\n        float vy = -(tex.g *2. - 1.);\n        float intensity = tex.b;\n\n        uv.x += vx * 0.2 * intensity ;\n        uv.y += vy * 0.2  *intensity;\n\n        // uv.xy *= 1. - 0.5 * smoothstep( 0., 1., intensity) ;\n        // uv.x +=  0.2 * intensity;\n        // uv.y +=  0.2  *intensity;\n    }\n\n\n`;","map":null,"metadata":{},"sourceType":"module"}