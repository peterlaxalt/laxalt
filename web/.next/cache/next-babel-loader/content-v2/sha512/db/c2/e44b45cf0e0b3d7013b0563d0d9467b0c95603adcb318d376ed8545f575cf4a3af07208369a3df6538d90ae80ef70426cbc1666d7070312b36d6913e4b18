{"ast":null,"code":"/**\n *\n * Shader fun\n * @author Peter Laxalt\n *\n */\n// Begin Component\n// __________________________________________________________________________\nvar GLSL_Canvas = function GLSL_Canvas(W, H, ID, BG) {\n  return function (p) {\n    // _________________________________________________\n    // Config\n    var theShader; // _________________________________________________\n    // Preload\n\n    p.preload = function () {\n      theShader = p.loadShader(\"/shaders/ex_\".concat(ID, \"/shader.vert\"), \"/shaders/ex_\".concat(ID, \"/shader.frag\"));\n    }; // _________________________________________________\n    // Setup\n\n\n    p.setup = function () {\n      // Our Canvas\n      p.createCanvas(W, H, p.WEBGL);\n      p.noStroke();\n    }; // _________________________________________________\n    // Draw\n\n\n    p.draw = function () {\n      // shader() sets the active shader with our shader\n      p.shader(theShader);\n      theShader.setUniform(\"u_resolution\", [W, H]);\n      theShader.setUniform(\"u_time\", p.millis() / 1000.0);\n      theShader.setUniform(\"u_mouse\", [p.mouseX, p.map(p.mouseY, 0, H, H, 0)]); // rect gives us some geometry on the screen\n\n      p.rect(0, 0, W, H);\n    };\n\n    p.windowResized = function () {\n      p.resizeCanvas(W, H);\n    };\n  };\n};\n\nexport default GLSL_Canvas;","map":{"version":3,"sources":["/Users/pflaxalt/Repositories/_pfl/web/sketches/p5/glsl.tsx"],"names":["GLSL_Canvas","W","H","ID","BG","p","theShader","preload","loadShader","setup","createCanvas","WEBGL","noStroke","draw","shader","setUniform","millis","mouseX","map","mouseY","rect","windowResized","resizeCanvas"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AASA,IAAMA,WAA6B,GAAG,SAAhCA,WAAgC,CAACC,CAAD,EAAIC,CAAJ,EAAOC,EAAP,EAAWC,EAAX;AAAA,SAAkB,UAACC,CAAD,EAAW;AACjE;AACA;AACA,QAAIC,SAAJ,CAHiE,CAKjE;AACA;;AACAD,IAAAA,CAAC,CAACE,OAAF,GAAY,YAAM;AAChBD,MAAAA,SAAS,GAAGD,CAAC,CAACG,UAAF,uBACKL,EADL,yCAEKA,EAFL,kBAAZ;AAID,KALD,CAPiE,CAcjE;AACA;;;AACAE,IAAAA,CAAC,CAACI,KAAF,GAAU,YAAM;AACd;AACAJ,MAAAA,CAAC,CAACK,YAAF,CAAeT,CAAf,EAAkBC,CAAlB,EAAqBG,CAAC,CAACM,KAAvB;AACAN,MAAAA,CAAC,CAACO,QAAF;AACD,KAJD,CAhBiE,CAsBjE;AACA;;;AACAP,IAAAA,CAAC,CAACQ,IAAF,GAAS,YAAM;AACb;AACAR,MAAAA,CAAC,CAACS,MAAF,CAASR,SAAT;AAEAA,MAAAA,SAAS,CAACS,UAAV,CAAqB,cAArB,EAAqC,CAACd,CAAD,EAAIC,CAAJ,CAArC;AACAI,MAAAA,SAAS,CAACS,UAAV,CAAqB,QAArB,EAA+BV,CAAC,CAACW,MAAF,KAAa,MAA5C;AACAV,MAAAA,SAAS,CAACS,UAAV,CAAqB,SAArB,EAAgC,CAACV,CAAC,CAACY,MAAH,EAAWZ,CAAC,CAACa,GAAF,CAAMb,CAAC,CAACc,MAAR,EAAgB,CAAhB,EAAmBjB,CAAnB,EAAsBA,CAAtB,EAAyB,CAAzB,CAAX,CAAhC,EANa,CAQb;;AACAG,MAAAA,CAAC,CAACe,IAAF,CAAO,CAAP,EAAU,CAAV,EAAanB,CAAb,EAAgBC,CAAhB;AACD,KAVD;;AAYAG,IAAAA,CAAC,CAACgB,aAAF,GAAkB,YAAM;AACtBhB,MAAAA,CAAC,CAACiB,YAAF,CAAerB,CAAf,EAAkBC,CAAlB;AACD,KAFD;AAGD,GAvCqC;AAAA,CAAtC;;AAyCA,eAAeF,WAAf","sourcesContent":["/**\n *\n * Shader fun\n * @author Peter Laxalt\n *\n */\n\nimport p5, { Shader } from \"p5\";\n\n// Begin Component\n// __________________________________________________________________________\n\nexport type LXLT_GLSL_Canvas = (\n  W: number,\n  H: number,\n  ID: number,\n  BG: string\n) => (p: p5) => void;\n\nconst GLSL_Canvas: LXLT_GLSL_Canvas = (W, H, ID, BG) => (p: p5) => {\n  // _________________________________________________\n  // Config\n  let theShader: Shader;\n\n  // _________________________________________________\n  // Preload\n  p.preload = () => {\n    theShader = p.loadShader(\n      `/shaders/ex_${ID}/shader.vert`,\n      `/shaders/ex_${ID}/shader.frag`\n    );\n  };\n\n  // _________________________________________________\n  // Setup\n  p.setup = () => {\n    // Our Canvas\n    p.createCanvas(W, H, p.WEBGL);\n    p.noStroke();\n  };\n\n  // _________________________________________________\n  // Draw\n  p.draw = () => {\n    // shader() sets the active shader with our shader\n    p.shader(theShader);\n\n    theShader.setUniform(\"u_resolution\", [W, H]);\n    theShader.setUniform(\"u_time\", p.millis() / 1000.0);\n    theShader.setUniform(\"u_mouse\", [p.mouseX, p.map(p.mouseY, 0, H, H, 0)]);\n\n    // rect gives us some geometry on the screen\n    p.rect(0, 0, W, H);\n  };\n\n  p.windowResized = () => {\n    p.resizeCanvas(W, H);\n  };\n};\n\nexport default GLSL_Canvas;\n"]},"metadata":{},"sourceType":"module"}