{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// Core\nimport React, { useEffect, useRef, useState } from \"react\"; // Types\n\n// Vendor\nimport gsap from \"gsap\"; // Styles\n\nimport { ProjectIntroSectionClassName, ProjectIntroSectionColumnHeight, ProjectIntroSectionStyle } from \"./styles.scss\";\nimport { AfterHeadlineWrapper } from \"../../HeadlineWrapper\";\nimport Image from \"next/image\";\nimport { OvalButton } from \"../../OvalButton\"; // Begin Types\n// __________________________________________________________________________________________\n\n// Begin Component\n// __________________________________________________________________________________________\nvar lastTranslateX = 0;\nexport var ProjectIntroSection = /*#__PURE__*/React.memo(function (_ref) {\n  var _ref$addClass = _ref.addClass,\n      addClass = _ref$addClass === void 0 ? \"\" : _ref$addClass,\n      _ref$hasSidebar = _ref.hasSidebar,\n      hasSidebar = _ref$hasSidebar === void 0 ? false : _ref$hasSidebar,\n      project = _ref.project;\n\n  // _____________________________\n  // State\n  var _useState = useState(null),\n      dynamicHeight = _useState[0],\n      setDynamicHeight = _useState[1];\n\n  var _useState2 = useState(false),\n      isBreakPoint = _useState2[0],\n      setBreakPoint = _useState2[1];\n\n  var _useState3 = useState(false),\n      isScrolled = _useState3[0],\n      setScrolled = _useState3[1]; // _____________________________\n  // Refs\n\n\n  var containerRef = useRef();\n  var objectRef = useRef(); // _____________________________\n  // Memory\n\n  var boundingClientX = 0; // _____________________________\n  // Functions\n\n  var calcDynamicHeight = function calcDynamicHeight(objectWidth) {\n    var vw = window.innerWidth;\n    var vh = window.innerHeight;\n    return objectWidth - vw + vh;\n  };\n\n  var handleDynamicHeight = function handleDynamicHeight(ref, setDynamicHeight) {\n    if (ref && ref.current) {\n      var objectWidth = ref.current.scrollWidth;\n\n      var _dynamicHeight = calcDynamicHeight(objectWidth);\n\n      setDynamicHeight(_dynamicHeight);\n    }\n  };\n\n  var applyScrollListener = function applyScrollListener(ref) {\n    window.addEventListener(\"scroll\", function () {\n      var offsetTop = ref && ref.current ? -ref.current.offsetTop : 0;\n      gsap.to(objectRef.current, {\n        x: offsetTop,\n        transition: 0.1,\n        ease: \"sine.out\"\n      });\n\n      if (offsetTop < window.innerWidth / -2) {\n        setBreakPoint(true);\n      } else {\n        setBreakPoint(false);\n      }\n\n      if (offsetTop < -100) {\n        setScrolled(true);\n      } else {\n        setScrolled(false);\n      }\n    });\n  };\n\n  var resizeHandler = function resizeHandler() {\n    handleDynamicHeight(objectRef, setDynamicHeight); // setWindowSize(window.innerWidth);\n  };\n\n  useEffect(function () {\n    handleDynamicHeight(objectRef, setDynamicHeight);\n    window.addEventListener(\"resize\", resizeHandler);\n    applyScrollListener(containerRef);\n  }, []); // _____________________________\n  // Let 'er rip\n\n  return /*#__PURE__*/_jsx(AfterHeadlineWrapper, {\n    children: /*#__PURE__*/_jsx(ProjectIntroSectionStyle, {\n      className: \"\".concat(ProjectIntroSectionClassName, \" \").concat(ProjectIntroSectionClassName, \"--\").concat(isScrolled ? \"is-scrolled\" : \"is-not-scrolled\", \" \").concat(ProjectIntroSectionClassName, \"--\").concat(isBreakPoint ? \"is-at-breakpoint\" : \"is-not-at-breakpoint\", \" \").concat(ProjectIntroSectionClassName, \"--\").concat(boundingClientX > lastTranslateX ? \"is-at-end\" : \"is-not-at-end\", \" \").concat(ProjectIntroSectionClassName, \"--\").concat(hasSidebar ? \"has-sidebar\" : \"has-no-sidebar\", \" \").concat(addClass && addClass),\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"\".concat(ProjectIntroSectionClassName, \"__outer\"),\n        style: {\n          height: \"\".concat(dynamicHeight, \"px\")\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"\".concat(ProjectIntroSectionClassName, \"__sticky-wrapper\"),\n          ref: containerRef,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"\".concat(ProjectIntroSectionClassName, \"__x-translate-wrapper\") // style={{ transform: `translate3d(${translateX}px, 0px, 0px)` }}\n            ,\n            ref: objectRef,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"\".concat(ProjectIntroSectionClassName, \"__horizontal-wrapper\"),\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"\".concat(ProjectIntroSectionClassName, \"__content-wrapper\"),\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"\".concat(ProjectIntroSectionClassName, \"__col \").concat(ProjectIntroSectionClassName, \"__col--intro \").concat(ProjectIntroSectionClassName, \"__intro-section\"),\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"\".concat(ProjectIntroSectionClassName, \"__col__inner \").concat(ProjectIntroSectionClassName, \"__intro-section__inner\"),\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__top\"),\n                      children: [project.intro && project.intro.blurb && project.intro.blurb.badge && /*#__PURE__*/_jsx(\"div\", {\n                        className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__top__badge\"),\n                        children: /*#__PURE__*/_jsx(project.intro.blurb.badge, {})\n                      }), project.intro && project.intro.blurb && project.intro.blurb.headline && /*#__PURE__*/_jsx(\"h2\", {\n                        className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__top__headline\"),\n                        children: project.intro.blurb.headline\n                      }), project.intro && project.intro.blurb && project.intro.blurb.largeBody && /*#__PURE__*/_jsx(\"p\", {\n                        className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__top__large-body\"),\n                        children: project.intro.blurb.largeBody\n                      }), project.intro && project.intro.blurb && project.intro.blurb.body && /*#__PURE__*/_jsx(\"p\", {\n                        className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__top__body\"),\n                        children: project.intro.blurb.body\n                      }), project.intro && project.intro.blurb && project.intro.blurb.cta && /*#__PURE__*/_jsx(\"div\", {\n                        className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__top__cta\"),\n                        children: /*#__PURE__*/_jsx(OvalButton, {\n                          external: true,\n                          href: project.intro.blurb.cta.href,\n                          label: project.intro.blurb.cta.label\n                        })\n                      })]\n                    }), project.meta && project.meta.team && /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__bottom\"),\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__bottom__header\"),\n                        children: \"Team\"\n                      }), /*#__PURE__*/_jsx(\"ul\", {\n                        className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__bottom__list\"),\n                        children: project.meta.team.core && project.meta.team.core.map(function (person, idx) {\n                          return /*#__PURE__*/_jsxs(\"li\", {\n                            className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__bottom__list__item\"),\n                            children: [/*#__PURE__*/_jsx(\"span\", {\n                              className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__bottom__list__item__label\"),\n                              children: person.name\n                            }), /*#__PURE__*/_jsx(\"span\", {\n                              className: \"\".concat(ProjectIntroSectionClassName, \"__intro-section__bottom__list__item__subtext\"),\n                              children: person.role\n                            })]\n                          }, idx);\n                        })\n                      })]\n                    })]\n                  })\n                }), project.intro.featuredImages && project.intro.featuredImages.map(function (image, idx) {\n                  return /*#__PURE__*/_jsx(\"div\", {\n                    className: \"\".concat(ProjectIntroSectionClassName, \"__col \").concat(ProjectIntroSectionClassName, \"__col--image\"),\n                    children: /*#__PURE__*/_jsx(\"div\", {\n                      className: \"\".concat(ProjectIntroSectionClassName, \"__col__inner\"),\n                      style: {\n                        height: \"\".concat(ProjectIntroSectionColumnHeight),\n                        width: \"calc(\".concat(ProjectIntroSectionColumnHeight, \" * \").concat(image.dimensions.width / image.dimensions.height, \")\")\n                      },\n                      children: /*#__PURE__*/_jsx(Image, {\n                        layout: \"responsive\",\n                        src: image.src,\n                        width: image.dimensions.width,\n                        height: image.dimensions.height\n                      })\n                    })\n                  }, idx);\n                })]\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n}); // End Component\n// ______________________________________________________________________________","map":null,"metadata":{},"sourceType":"module"}