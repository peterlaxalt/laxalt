{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// Core\nimport React, { useEffect, useRef, useState } from \"react\"; // Types\n\n// Vendor\nimport gsap from \"gsap\"; // Styles\n\nimport { ProjectIntroSectionClassName, ProjectIntroSectionColumnHeight, ProjectIntroSectionStyle } from \"./styles.scss\";\nimport { AfterHeadlineWrapper } from \"../../HeadlineWrapper\";\nimport Image from \"next/image\";\nimport { OvalButton } from \"../../OvalButton\"; // Begin Types\n// __________________________________________________________________________________________\n\n// Begin Component\n// __________________________________________________________________________________________\nlet lastTranslateX = 0;\nexport const ProjectIntroSection = /*#__PURE__*/React.memo(({\n  addClass = \"\",\n  hasSidebar = false,\n  project\n}) => {\n  // _____________________________\n  // State\n  const {\n    0: dynamicHeight,\n    1: setDynamicHeight\n  } = useState(null);\n  const {\n    0: isBreakPoint,\n    1: setBreakPoint\n  } = useState(false);\n  const {\n    0: isScrolled,\n    1: setScrolled\n  } = useState(false); // _____________________________\n  // Refs\n\n  const containerRef = useRef();\n  const objectRef = useRef(); // _____________________________\n  // Memory\n\n  let boundingClientX = 0; // _____________________________\n  // Functions\n\n  const calcDynamicHeight = objectWidth => {\n    const vw = window.innerWidth;\n    const vh = window.innerHeight;\n    return objectWidth - vw + vh;\n  };\n\n  const handleDynamicHeight = (ref, setDynamicHeight) => {\n    if (ref && ref.current) {\n      const objectWidth = ref.current.scrollWidth;\n      const dynamicHeight = calcDynamicHeight(objectWidth);\n      setDynamicHeight(dynamicHeight);\n    }\n  };\n\n  const applyScrollListener = ref => {\n    window.addEventListener(\"scroll\", () => {\n      const offsetTop = ref && ref.current ? -ref.current.offsetTop : 0;\n      gsap.to(objectRef.current, {\n        x: offsetTop,\n        transition: 0.1,\n        ease: \"sine.out\"\n      });\n\n      if (offsetTop < window.innerWidth / -2) {\n        setBreakPoint(true);\n      } else {\n        setBreakPoint(false);\n      }\n\n      if (offsetTop < -100) {\n        setScrolled(true);\n      } else {\n        setScrolled(false);\n      }\n    });\n  };\n\n  const resizeHandler = () => {\n    handleDynamicHeight(objectRef, setDynamicHeight); // setWindowSize(window.innerWidth);\n  };\n\n  useEffect(() => {\n    handleDynamicHeight(objectRef, setDynamicHeight);\n    window.addEventListener(\"resize\", resizeHandler);\n    applyScrollListener(containerRef);\n  }, []); // _____________________________\n  // Let 'er rip\n\n  return /*#__PURE__*/_jsx(AfterHeadlineWrapper, {\n    children: /*#__PURE__*/_jsx(ProjectIntroSectionStyle, {\n      className: `${ProjectIntroSectionClassName} ${ProjectIntroSectionClassName}--${isScrolled ? `is-scrolled` : `is-not-scrolled`} ${ProjectIntroSectionClassName}--${isBreakPoint ? `is-at-breakpoint` : `is-not-at-breakpoint`} ${ProjectIntroSectionClassName}--${boundingClientX > lastTranslateX ? `is-at-end` : `is-not-at-end`} ${ProjectIntroSectionClassName}--${hasSidebar ? \"has-sidebar\" : \"has-no-sidebar\"} ${addClass && addClass}`,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: `${ProjectIntroSectionClassName}__outer`,\n        style: {\n          height: `${dynamicHeight}px`\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: `${ProjectIntroSectionClassName}__sticky-wrapper`,\n          ref: containerRef,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: `${ProjectIntroSectionClassName}__x-translate-wrapper` // style={{ transform: `translate3d(${translateX}px, 0px, 0px)` }}\n            ,\n            ref: objectRef,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: `${ProjectIntroSectionClassName}__horizontal-wrapper`,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: `${ProjectIntroSectionClassName}__content-wrapper`,\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: `${ProjectIntroSectionClassName}__col ${ProjectIntroSectionClassName}__col--intro ${ProjectIntroSectionClassName}__intro-section`,\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: `${ProjectIntroSectionClassName}__col__inner ${ProjectIntroSectionClassName}__intro-section__inner`,\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: `${ProjectIntroSectionClassName}__intro-section__top`,\n                      children: [project.intro && project.intro.blurb && project.intro.blurb.badge && /*#__PURE__*/_jsx(\"div\", {\n                        className: `${ProjectIntroSectionClassName}__intro-section__top__badge`,\n                        children: /*#__PURE__*/_jsx(project.intro.blurb.badge, {})\n                      }), project.intro && project.intro.blurb && project.intro.blurb.headline && /*#__PURE__*/_jsx(\"h2\", {\n                        className: `${ProjectIntroSectionClassName}__intro-section__top__headline`,\n                        children: project.intro.blurb.headline\n                      }), project.intro && project.intro.blurb && project.intro.blurb.largeBody && /*#__PURE__*/_jsx(\"p\", {\n                        className: `${ProjectIntroSectionClassName}__intro-section__top__large-body`,\n                        children: project.intro.blurb.largeBody\n                      }), project.intro && project.intro.blurb && project.intro.blurb.body && /*#__PURE__*/_jsx(\"p\", {\n                        className: `${ProjectIntroSectionClassName}__intro-section__top__body`,\n                        children: project.intro.blurb.body\n                      }), project.intro && project.intro.blurb && project.intro.blurb.cta && /*#__PURE__*/_jsx(\"div\", {\n                        className: `${ProjectIntroSectionClassName}__intro-section__top__cta`,\n                        children: /*#__PURE__*/_jsx(OvalButton, {\n                          external: true,\n                          href: project.intro.blurb.cta.href,\n                          label: project.intro.blurb.cta.label\n                        })\n                      })]\n                    }), project.meta && project.meta.team && /*#__PURE__*/_jsxs(\"div\", {\n                      className: `${ProjectIntroSectionClassName}__intro-section__bottom`,\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: `${ProjectIntroSectionClassName}__intro-section__bottom__header`,\n                        children: \"Team\"\n                      }), /*#__PURE__*/_jsx(\"ul\", {\n                        className: `${ProjectIntroSectionClassName}__intro-section__bottom__list`,\n                        children: project.meta.team.core && project.meta.team.core.map((person, idx) => {\n                          return /*#__PURE__*/_jsxs(\"li\", {\n                            className: `${ProjectIntroSectionClassName}__intro-section__bottom__list__item`,\n                            children: [/*#__PURE__*/_jsx(\"span\", {\n                              className: `${ProjectIntroSectionClassName}__intro-section__bottom__list__item__label`,\n                              children: person.name\n                            }), /*#__PURE__*/_jsx(\"span\", {\n                              className: `${ProjectIntroSectionClassName}__intro-section__bottom__list__item__subtext`,\n                              children: person.role\n                            })]\n                          }, idx);\n                        })\n                      })]\n                    })]\n                  })\n                }), project.intro.featuredImages && project.intro.featuredImages.map((image, idx) => {\n                  return /*#__PURE__*/_jsx(\"div\", {\n                    className: `${ProjectIntroSectionClassName}__col ${ProjectIntroSectionClassName}__col--image`,\n                    children: /*#__PURE__*/_jsx(\"div\", {\n                      className: `${ProjectIntroSectionClassName}__col__inner`,\n                      style: {\n                        height: `${ProjectIntroSectionColumnHeight}`,\n                        width: `calc(${ProjectIntroSectionColumnHeight} * ${image.dimensions.width / image.dimensions.height})`\n                      },\n                      children: /*#__PURE__*/_jsx(Image, {\n                        layout: `responsive`,\n                        src: image.src,\n                        width: image.dimensions.width,\n                        height: image.dimensions.height\n                      })\n                    })\n                  }, idx);\n                })]\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n}); // End Component\n// ______________________________________________________________________________","map":null,"metadata":{},"sourceType":"module"}