_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{"1VNi":function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/three-with-canvas-texture",function(){return e("R1sj")}])},R1sj:function(t,n,e){"use strict";e.r(n),e.d(n,"ThreeCanvasPage",(function(){return C}));var a=e("nKUr"),i=e("h4VS"),o=e("1OyB"),r=e("vuIU"),c=e("JX7q"),s=e("Ji7U"),h=e("md7G"),d=e("foSv"),u=e("rePB"),l=e("q1tI"),v=e.n(l),f=e("vOnD"),m=e("YMx+"),w=e("AeVD"),j=e("gssh"),b=e("/YLk"),p=e("Vvt1"),g=e.n(p),O=e("Q9BO");function x(){var t=Object(i.a)(["\n      /* body, html {\n        overflow: hidden;\n      } */\n\n      .three-container {\n        width: 100vw;\n        height: 100vh;\n        overflow: hidden;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        #p5_loading {\n          display: none !important;\n        }\n      }\n\n      #drawing-canvas {\n\t\t\t\tposition: absolute;\n\t\t\t\tbackground-color: #000000;\n\t\t\t\ttop: 0px;\n\t\t\t\tright: 0px;\n\t\t\t\tz-index: 3000;\n\t\t\t\tcursor: crosshair;\n\t\t\t\ttouch-action: none;\n\n        display: none;\n\t\t\t}\n\n      canvas {\n        animation: "," 1s ease 1;\n        animation-fill-mode: forwards;\n        animation-iteration-count: 1;\n      }\n\n      .dharma-container {\n        opacity: 1;\n      }\n    "]);return x=function(){return t},t}function y(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,a=Object(d.a)(t);if(n){var i=Object(d.a)(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return Object(h.a)(this,e)}}var T=g()((function(){return Promise.all([e.e(12),e.e(13)]).then(e.t.bind(null,"58Bg",7))}),{loading:function(){return Object(a.jsx)(a.Fragment,{})},ssr:!1,loadableGenerated:{webpack:function(){return["58Bg"]},modules:["react-p5-wrapper"]}}),k=function(t){Object(s.a)(i,t);var n=y(i);function i(t){var r;return Object(o.a)(this,i),r=n.call(this,t),Object(u.a)(Object(c.a)(r),"threeRootElement",void 0),Object(u.a)(Object(c.a)(r),"renderP5",(function(t){var n=e("49Hi")("./".concat(t)).default(r.state.windowWidth,r.state.windowHeight,1,r.props.colorThemeContext);return Object(a.jsx)(T,{sketch:n})})),r.state={domLoaded:!1,windowWidth:0,windowHeight:0,canvasElement:void 0,canvasTheme:void 0},r.checkForCanvas=r.checkForCanvas.bind(Object(c.a)(r)),r.initializeThree=r.initializeThree.bind(Object(c.a)(r)),r}return Object(r.a)(i,[{key:"componentDidMount",value:function(){this.setState({windowWidth:window.innerWidth-80,windowHeight:window.innerHeight-80,domLoaded:!0,canvasElement:void 0,canvasTheme:this.props.colorThemeContext}),this.checkForCanvas()}},{key:"checkForCanvas",value:function(){var t=document.getElementById("defaultCanvas0");t?(O.m&&console.log("\ud83e\udd19 Canvas found:",t),this.setState({canvasElement:t}),this.initializeThree()):(O.m&&console.log("\ud83d\ude2d Canvas not found, trying again in 100ms:",t),setTimeout(this.checkForCanvas,100))}},{key:"initializeThree",value:function(){Object(j.a)(this.threeRootElement.el,this.state.canvasElement,this.props.colorThemeContext),O.m&&console.log("\u2705 Three initialization enqueued with canvas:",this.state.canvasElement)}},{key:"render",value:function(){var t=this,n=Object(f.a)(x(),m.a);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(n,{}),Object(a.jsx)(w.a,{}),Object(a.jsx)("canvas",{id:"drawing-canvas",height:"128",width:"128"}),this.state.domLoaded&&this.state.windowHeight>10&&this.state.windowWidth>10&&Object(a.jsx)("div",{className:"dharma-container",children:this.renderP5("dharma-as-canvas")}),this.state.canvasElement&&Object(a.jsx)("div",{ref:function(n){return t.threeRootElement={el:n,theme:t.state.canvasTheme}},className:"three-container"})]})}}]),i}(l.Component),C=function(){var t=v.a.useContext(b.b);return Object(a.jsx)(k,{colorThemeContext:t})};n.default=C}},[["1VNi",0,1,3,7,2,5,4,6,9,8,11,10,14,16]]]);